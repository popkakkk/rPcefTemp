INFO|12:12:12:600|main|EC02Server|-1|EC02 :: Library Version --> 4.0.7
DEBUG|12:12:12:604|main|ConfigLoader|-1|Initial Custom AF Log
WARN|12:12:12:604|main|ConfigLoader|-1|testCustomLog : file name is rotated
INFO|12:12:12:624|main|EC02Server|-1|application level ready
ADEBUG|12:12:12:639|main|Config|102|----- Verify AF Configuration [true] -----
DEBUG|12:12:12:685|main|EC02Handler|-1|Received data from LL Content-Length: 1111
DEBUG|12:12:12:687|0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384|EC02Handler|-1|
#====> Incoming Message :        <EquinoxMessage from="rPCEF_au.E11.0" via="rPCEF_au.E11.0" session="0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384" timeout="10" ret="0" diag="1:0:0">            <EquinoxRawData name="HTTP" invoke="1033578817" type="request" method="POST" url="/rpcef/v1/metering-method" ctype="text/plain" val="{        &quot;command&quot;:&quot;usageMonitoring&quot;,        &quot;sessionId&quot;:&quot;SessionA123456781234679ACTIVE&quot;,        &quot;tid&quot;:&quot;SACF-756&quot;,        &quot;rtid&quot;:&quot;SPW-A1234567891234679100&quot;,        &quot;actualTime&quot;:&quot;20181105174020&quot;,        &quot;app&quot;:&quot;Cookie Run&quot;,        &quot;clientId&quot;:&quot;cGdb4azinlmwq8N5FDGXvQNwUKC352vv2de8fyCUIiI&quot;,        &quot;userType&quot;:&quot;privateId&quot;,        &quot;userValue&quot;:&quot;0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384&quot;,        &quot;resourceName&quot;:&quot;GSSO/sendOneTimePwd&quot;}" to="rPCEF_au.ES00" orig="rPCEF_au.ES05.SACF.0" ret="0" />            <EquinoxInstance>                <value val="" />            </EquinoxInstance>        </EquinoxMessage>    
DEBUG|12:12:12:708|0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384|EC02Controller|-1|=== >> INCOMING DATA
-->applicationName  :  Sample
-->session  : 0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384
-->via  : rPCEF_au.E11.0
-->from  : rPCEF_au.E11.0
-->diag  : 1:0:0
-->state  : IDLE
-->timeout  : 10

-->rawdata(s)  : 1
-->raw data index : 0
	-->raw event type : Unknown
	-->message : {        &quot;command&quot;:&quot;usageMonitoring&quot;,        &quot;sessionId&quot;:&quot;SessionA123456781234679ACTIVE&quot;,        &quot;tid&quot;:&quot;SACF-756&quot;,        &quot;rtid&quot;:&quot;SPW-A1234567891234679100&quot;,        &quot;actualTime&quot;:&quot;20181105174020&quot;,        &quot;app&quot;:&quot;Cookie Run&quot;,        &quot;clientId&quot;:&quot;cGdb4azinlmwq8N5FDGXvQNwUKC352vv2de8fyCUIiI&quot;,        &quot;userType&quot;:&quot;privateId&quot;,        &quot;userValue&quot;:&quot;0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384&quot;,        &quot;resourceName&quot;:&quot;GSSO/sendOneTimePwd&quot;}
	-->val : {        "command":"usageMonitoring",        "sessionId":"SessionA123456781234679ACTIVE",        "tid":"SACF-756",        "rtid":"SPW-A1234567891234679100",        "actualTime":"20181105174020",        "app":"Cookie Run",        "clientId":"cGdb4azinlmwq8N5FDGXvQNwUKC352vv2de8fyCUIiI",        "userType":"privateId",        "userValue":"0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384",        "resourceName":"GSSO/sendOneTimePwd"}
	-->ret : 0
	-->method : POST
	-->ctype : text/plain
	-->orig : rPCEF_au.ES05.SACF.0
	-->name : HTTP
	-->invoke : 1033578817
	-->to : rPCEF_au.ES00
	-->type : request
	-->url : /rpcef/v1/metering-method
ADEBUG|12:12:13:028|0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384|PCEFMain|16|## actionProcess || extractInstance || Finish...
ADEBUG|12:12:13:029|0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384|EQX4Wrapper|78|--------------------- [ Start Before Process ] ---------------------
ADEBUG|12:12:13:034|0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384|EQX4Wrapper|197|[Request Type]: USAGE_MONITORING
ADEBUG|12:12:13:034|0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384|EQX4Wrapper|81|--------------------- [ Stop Before Process  ] ---------------------
ADEBUG|12:12:13:034|0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384|EQX4Wrapper|82|--------------------- [   Start Do Process   ] ---------------------
ADEBUG|12:12:13:069|0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384|ComplexState|23|disPatch W_USAGE_MONITORING BEGIN
ADEBUG|12:12:13:071|0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384|ComplexState|27|Invoke begin
ADEBUG|12:12:16:393|0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384|UsageMonitoringService|30|Read Usage Monitoring Request ..
ADEBUG|12:12:16:428|0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384|PCEFUtils|166|[MESSAGE_FLOW] : {"message":"Read Usage Monitoring Request","status":"Success","session":"SessionA123456781234679ACTIVE"}
ADEBUG|12:12:16:431|0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384|GetResourceIdService|40|Build Get ResourceResponse ID Request ..
ADEBUG|12:12:16:431|0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384|GetResourceIdService|43|resourceName : GSSO/sendOneTimePwd
ADEBUG|12:12:16:558|0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384|GetResourceIdService|58|url = /marketplace/v1/products?category=IoT&page=1&limit=20&sort=id&order=desc&keyword=GSSO/sendOneTimePwd
ADEBUG|12:12:16:568|0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384|InvokeManager|100|Operation[GetResourceId] has configured retryTimeout number as 1
ADEBUG|12:12:16:570|0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384|PCEFUtils|166|[MESSAGE_FLOW] : {"message":"Build Get ResourceResponse ID Request","status":"Success","session":"SessionA123456781234679ACTIVE"}
ADEBUG|12:12:16:697|0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384|EQX4Wrapper|233|Next State [L1]:BEGIN, [L2]:W_GET_RESOURCE_ID, [L3]:null
ADEBUG|12:12:16:697|0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384|EQX4Wrapper|84|--------------------- [    Stop Do Process   ] ---------------------
ADEBUG|12:12:16:697|0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384|EQX4Wrapper|85|--------------------- [ Start After Process  ] ---------------------
ADEBUG|12:12:16:705|0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384|EQX4Wrapper|357|[Get Min Timeout] timeout of request context =4
ADEBUG|12:12:16:705|0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384|EQX4Wrapper|366|[Get Min Timeout] request context size = 1,timeout =4
ADEBUG|12:12:16:705|0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384|EQX4Wrapper|272|EquinoxProperties timeout =4
ADEBUG|12:12:16:707|0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384|EQX4Wrapper|298|set State:ACTIVE, set Ret:NORMAL
ADEBUG|12:12:16:707|0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384|EQX4Wrapper|88|--------------------- [ Stop After Process   ] ---------------------
ADEBUG|12:12:16:711|0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384|PCEFMain|19|## actionProcess || callActionProcess || Finish...
ADEBUG|12:12:16:743|0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384|PCEFMain|22|## actionProcess || composeInstance || Finish...
DEBUG|12:12:16:746|0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384|AFProxy|-1|action process completed :: 4038
DEBUG|12:12:16:746|0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384|EC02Controller|-1|=== >> OUTGOING DATA
-->applicationName  :  Sample
-->session  : 0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384
-->via  : rPCEF_au.E11.0
-->from  : Sample.ES00
-->diag  : 
-->state  : ACTIVE
-->timeout  : 4

-->rawdata(s)  : 1
-->raw data index : 0
	-->message : <ERDHeader><Header name="Content-Type" value="application/json"/><Header name="x-app-name" value="Singularity"/><Header name="x-channel" value="WEB"/><Header name="x-transaction-id" value="PCEF20190607121213"/><Header name="x-auth-role" value="SGL-00003"/><Header name="x-user-request" value="0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384"/></ERDHeader>
	-->method : GET
	-->ctype : application/json
	-->name : HTTP
	-->invoke : getResourceId_
	-->to : rPCEF.ES04.PRODUCT
	-->type : request
	-->url : /marketplace/v1/products?category=IoT&page=1&limit=20&sort=id&order=desc&keyword=GSSO/sendOneTimePwd
	-->timeout : 4
DEBUG|12:12:16:765|0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384|EC02Handler|-1|
#====> Outgoing Message is:<?xml version="1.0" encoding="tis-620" ?><EquinoxMessage diag="" from="Sample.ES00" ret="0" session="0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384" via="rPCEF_au.E11.0" timeout="4" ><EquinoxRawData to="Sample.E04.0" name="EQSTAT" type="noreply" ><stats name="rPCEF receive Usage Monitoring request [SUCCESS]" type="increment"/><stats name="rPCEF sent Get Product request [SUCCESS]" type="increment"/></EquinoxRawData><EquinoxRawData method="GET" ctype="application/json" name="HTTP" invoke="getResourceId_" to="rPCEF.ES04.PRODUCT" type="request" url="/marketplace/v1/products?category=IoT&amp;page=1&amp;limit=20&amp;sort=id&amp;order=desc&amp;keyword=GSSO/sendOneTimePwd" timeout="4" ><ERDHeader><Header name="Content-Type" value="application/json"/><Header name="x-app-name" value="Singularity"/><Header name="x-channel" value="WEB"/><Header name="x-transaction-id" value="PCEF20190607121213"/><Header name="x-auth-role" value="SGL-00003"/><Header name="x-user-request" value="0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384"/></ERDHeader></EquinoxRawData><EquinoxInstance><value val="1::ACTIVE::false::ZUY2VlZ0dHk0amdRL1pXVWFoOGgrTW9sTDFzTUdNWTE0YklHSnFuYVRGRWFXNENDa1l3c2N4bUtmOStXWlFqcnpXd2w1QUZ6V3U0K3A3dlZuUk1TWkp1UlZIWTRrK1FnVS9Udzl3a2xJVm40TEpXWWhRUTluRkJLMHBSeTVrZm9BVTMwYzl1MGJNZXRONXJxdTk1b3RUdFQvN3VIS2dqZUVuSktOL0NpNmJxdFp0T3hiZHV3clFyS1Vyd2tBODZvNUlLeVphQURLLzhoMzJ3d1U5NUxaNVMvVDhTV05HZlk3dlNxRGJjT0w0c0NHVDlWcjRSYkJXUFRNT0FFRG1XR1k4MFhXWWJaTkUzRE5SdU9ZZVhXSkFHSEhjN1hsTndGR1FNb2pDbGhNazlGMkk5K092Z1haZkZtdjIwTzNWNjMvN3o3YTdpZmZldllyclhiV1JGcExvNmRtVTk5ZURGTGlaZ2VFOGdMU2dUZFlVbkFpWWEvNHpoVHVQSGNldTRmRC9Ld0h2eDZYUTNIejBIY0dBZXRuck1kOGRkSDJUWmRwOWx3RzgybWF6Y2RKWStrUEJNaEdXS1ZidFNmVEVhMWxMQm94SWhTTk41SDZGeEJYSzZJbU9SbEVaaWxvQmhxcVFyOW80S0lFRnlnaHdXT1V3TGFvQTVVZHJIRWhabVJmVkRFU0l0NkZSYktRTTZ0dzZ1VGJjWWxIdkNJTG82UE5KVXFEcENnYk1mWFpJQVo5QUFFUEtGWTIwNkZKVS9va3NoTE9EK2FnMENlRUlFVlhhWHUxbmhyQ3pDUTNDcWZVcWVYaElaMUg0R0tlMitiVWNZUGNFS0o2b0YwTG81Ly9CdjFOMGtNN3RSNTVVUG9zMjBwYzVvYklsZGNjZXQ3VTFYOUlnUTBSa3pEbkZydE5RVitGY1IwRWI1T3AyUDRwZlcrcDBseVFNVzQ0L1h1dlluaDNJK0RVWGZXVWM0TDM4V05CQ0FUTVp5dGJiQllFNW5FT0NTMW5WbExCSSt5VUtaL1FueXlCRUV2bVdIWWtjK242c0dxSjVCaURaa2FpQ2xVVlNPV29hR1Vpd0toa1VhNGlJalFoeUtTaGhwY2srTWVEQnArcjcyQU5EUWF6NkRNeUZITkJ1bnpkbkJCaWs2ZnNUWGplNVVlY29zT3Z3MUhUME5BaTJ3UDRKSURhM0NTaHdxOW9QdVY0QXNoclNiVXlKM0tzeWIwQWpjVHBoYVRWUlh0QmQzdDFEMjYyTW9sZWtHMTNQUjdiNGNxdkZQTi9aZDhUV0JlWlRFV1ZCNC80aVpjWWNaSVhQYnk1SDM1eU52eTdaWldvVG9sS3FweFlFNjFqTHJSTUMzNHN6L2lFMmR5VlJVOC9xK3kvbVBWZ00rSHZLZ1JWaTNhczh6clU3T3JSTGxXcWpjNlF5ZXRNSXljTkl1aHRZcnhKSWdVUjFncmF2REIwekRiL0ZTenhGQy90NldWVTRmZGRGYURwNkRyNS9Nbm56S21ZZHRxaUpvTjFaYmJ3MWp3cE5ocVlQMlVEdFhCZW8xZCtuM1M3bnZ6d1dqb1QwZUJQK3lyVzYwdkNBeWdtNVhvR0EzRFZWTkNFZ0ZkZTVWNEFRSXRGYVQ5WnA5Q0VzQWl5YU1Kbkw5NGZWL2RKbzFZZ0R6TllWN05BMjh5bWdVZGIrNTN3YnJIVlBhNEFMa2hYTGRyeUppSGE4QVdOQVorZWFiUHNCalNERmF5T0Q3eXBmNlhJT2JMeTVZcHpXRTk2ZDZmMzI5ZXVrUmlDanIvZjk1ZjY2aFc4VnVMMSs4TUtLZE9Ob2pMSDRBV09wMmhVMzZjL3dGV3F0b3Q=::" /></EquinoxInstance></EquinoxMessage>
DEBUG|12:12:16:766|0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384|EC02Handler|-1|
-->TIME,total Processing Time(msec) : 4078
-->TIME,application process (msec) :4038
-->TIME,ec02 process(msec) : 40
DEBUG|12:12:16:768|main|EC02Handler|-1|Received data from LL Content-Length: 9700
DEBUG|12:12:16:769|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EC02Handler|-1|
#====> Incoming Message :        <EquinoxMessage from="mOCHKF.E11.0" via="mOCHKF.E11.0"                        session="668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615"                        timeout="10" ret="0" diag="">            <EquinoxRawData orig="mOCHKF.ES05.DAMOCLES.0" name="HTTP" invoke="getResourceId_" type="response"                            method="POST"                            url="" ctype="text/json"                            to="mOCHKF.ES00" ret="0">            <ERDHeader>            </ERDHeader>            <ERDData value="{   &quot;resultCode&quot;: &quot;20000&quot;,   &quot;developerMessage&quot;: &quot;Query product success&quot;,   &quot;userMessage&quot;: &quot;Transaction success.&quot;,   &quot;moreInfo&quot;: &quot;&quot;,   &quot;resultData&quot;:    {      &quot;products&quot;: [      {         &quot;_id&quot;: &quot;5caf0d8edd70922b00cc4d4e&quot;,         &quot;productId&quot;: &quot;PD-1112&quot;,         &quot;productCategory&quot;:          {            &quot;categoryId&quot;: &quot;5a829fec874d4f770a093414&quot;,            &quot;categoryName&quot;: &quot;IoT&quot;,            &quot;categoryOrder&quot;: 1         },         &quot;productSubCategory&quot;:          {            &quot;subCategoryId&quot;: &quot;5a829fec874d4f770a093414&quot;,            &quot;subCategoryName&quot;: &quot;IOT Solution&quot;,            &quot;subCategoryOrder&quot;: 1         },         &quot;status&quot;: &quot;Active&quot;,         &quot;productPublic&quot;: true,         &quot;productName&quot;: &quot;Amazon Echo&quot;,         &quot;productShortDesc&quot;: &quot;Echo (1st Generation) - Smart speaker with Alexa - Charcoal Fabric&quot;,         &quot;productPriceDetail&quot;:          {            &quot;priceMethod&quot;: &quot;Price Plan&quot;,            &quot;conditionPricing&quot;:             [                              {                  &quot;priceCode&quot;: &quot;PC-00001&quot;,                  &quot;name&quot;: &quot;Plan A - Flat&quot;,                  &quot;conditionType&quot;: &quot;amount&quot;,                  &quot;conditionDetail&quot;:                   {                     &quot;amount&quot;:                      {                        &quot;data&quot;: 1,                        &quot;unit&quot;: &quot;Piece&quot;                     },                     &quot;price&quot;:                      {                        &quot;data&quot;: 6499,                        &quot;unit&quot;: &quot;THB&quot;                     },                     &quot;pricingMethod&quot;: &quot;flat&quot;                  }               },                              {                  &quot;priceCode&quot;: &quot;PC-00002&quot;,                  &quot;name&quot;: &quot;Plan B - Tier&quot;,                  &quot;conditionType&quot;: &quot;amount&quot;,                  &quot;conditionDetail&quot;:                   {                     &quot;amount&quot;:                      {                        &quot;data&quot;: 1,                        &quot;unit&quot;: &quot;Pieces&quot;                     },                     &quot;price&quot;:                      {                        &quot;data&quot;: 6499,                        &quot;unit&quot;: &quot;THB&quot;                     },                     &quot;pricingMethod&quot;: &quot;tier&quot;,                     &quot;pricing&quot;:                      [                                                {                           &quot;from&quot;: 1,                           &quot;to&quot;: 1,                           &quot;price&quot;: 6499                        },                                                {                           &quot;from&quot;: 2,                           &quot;to&quot;: 100,                           &quot;price&quot;: 6399                        },                                                {                           &quot;from&quot;: 101,                           &quot;to&quot;: 300,                           &quot;price&quot;: 6299                        },                                                {                           &quot;from&quot;: 301,                           &quot;to&quot;: 500,                           &quot;price&quot;: 6199                        },                                                {                           &quot;from&quot;: 501,                           &quot;to&quot;: -1,                           &quot;price&quot;: 5899                        }                     ]                  }               },                              {                  &quot;priceCode&quot;: &quot;PC-00003&quot;,                  &quot;name&quot;: &quot;Plan C - Volumn&quot;,                  &quot;conditionType&quot;: &quot;amount&quot;,                  &quot;conditionDetail&quot;:                   {                     &quot;amount&quot;:                      {                        &quot;data&quot;: 1,                        &quot;unit&quot;: &quot;Pieces&quot;                     },                     &quot;price&quot;:                      {                        &quot;data&quot;: 6499,                        &quot;unit&quot;: &quot;THB&quot;                     },                     &quot;pricingMethod&quot;: &quot;volumn&quot;,                     &quot;pricing&quot;:                      [                                                {                           &quot;from&quot;: 1,                           &quot;to&quot;: 1,                           &quot;price&quot;: 6499                        },                                                {                           &quot;from&quot;: 2,                           &quot;to&quot;: 100,                           &quot;price&quot;: 6450                        },                                                {                           &quot;from&quot;: 101,                           &quot;to&quot;: 300,                           &quot;price&quot;: 6250                        },                                                {                           &quot;from&quot;: 301,                           &quot;to&quot;: 500,                           &quot;price&quot;: 6199                        },                                                {                           &quot;from&quot;: 501,                           &quot;to&quot;: -1,                           &quot;price&quot;: 6000                        }                     ]                  }               }            ]         },         &quot;productImage&quot;:          [                        {               &quot;type&quot;: &quot;thumbnail&quot;,               &quot;imagePath&quot;: &quot;https://assets.pcmag.com/media/images/522880-amazon-echo-plus.jpg&quot;            },                        {               &quot;type&quot;: &quot;gallery&quot;,               &quot;imagePath&quot;: &quot;https://assets.pcmag.com/media/images/522880-amazon-echo-plus.jpg&quot;            },                        {               &quot;type&quot;: &quot;gallery&quot;,               &quot;imagePath&quot;: &quot;https://brain-images-ssl.cdn.dixons.com/4/8/10171184/l_10171184_003.jpg&quot;            },                        {               &quot;type&quot;: &quot;gallery&quot;,               &quot;imagePath&quot;: &quot;https://brain-images-ssl.cdn.dixons.com/4/8/10171184/l_10171184_006.jpg&quot;            },                        {               &quot;type&quot;: &quot;gallery&quot;,               &quot;imagePath&quot;: &quot;https://brain-images-ssl.cdn.dixons.com/4/8/10171184/l_10171184_007.jpg&quot;            }         ]      }],      &quot;productTotal&quot;: 2   }}"/>            </EquinoxRawData>            <EquinoxInstance><value val="1::ACTIVE::false::ZUY2VlZ0dHk0amdRL1pXVWFoOGgrTW9sTDFzTUdNWTE0YklHSnFuYVRGRWFXNENDa1l3c2N4bUtmOStXWlFqcnpXd2w1QUZ6V3U0K3A3dlZuUk1TWkp1UlZIWTRrK1FnVS9Udzl3a2xJVm40TEpXWWhRUTluRkJLMHBSeTVrZm9BVTMwYzl1MGJNZXRONXJxdTk1b3RUdFQvN3VIS2dqZUVuSktOL0NpNmJxdFp0T3hiZHV3clFyS1Vyd2tBODZvNUlLeVphQURLLzhoMzJ3d1U5NUxaNVMvVDhTV05HZlk3dlNxRGJjT0w0c0NHVDlWcjRSYkJXUFRNT0FFRG1XR1k4MFhXWWJaTkUzRE5SdU9ZZVhXSkFHSEhjN1hsTndGR1FNb2pDbGhNazlGMkk5K092Z1haZkZtdjIwTzNWNjMvN3o3YTdpZmZldllyclhiV1JGcExvNmRtVTk5ZURGTGlaZ2VFOGdMU2dUZFlVbkFpWWEvNHpoVHVQSGNldTRmRC9Ld0h2eDZYUTNIejBIY0dBZXRuck1kOGRkSDJUWmRwOWx3RzgybWF6Y2RKWStrUEJNaEdXS1ZidFNmVEVhMWxMQm94SWhTTk41SDZGeEJYSzZJbU9SbEVaaWxvQmhxcVFyOW80S0lFRnlnaHdXT1V3TGFvQTVVZHJIRWhabVJmVkRFU0l0NkZSYktRTTZ0dzZ1VGJjWWxIdkNJTG82UE5KVXFEcENnYk1mWFpJQVo5QUFFUEtGWTIwNkZKVS9va3NoTE9EK2FnMENlRUlFVlhhWHUxbmhyQ3pDUTNDcWZVcWVYaElaMUg0R0tlMitiVWNZUGNFS0o2b0YwTG81Ly9CdjFOMGtNN3RSNTVVUG9zMjBwYzVvYklsZGNjZXQ3VTFYOUlnUTBSa3pEbkZydE5RVitGY1IwRWI1T3AyUDRwZlcrcDBseVFNVzQ0L1h1dlluaDNJK0RVWGZXVWM0TDM4V05CQ0FUTVp5dGJiQllFNW5FT0NTMW5WbExCSSt5VUtaL1FueXlCRUV2bVdIWWtjK242c0dxSjVCaURaa2FpQ2xVVlNPV29hR1Vpd0toa1VhNGlJalFoeUtTaGhwY2srTWVEQnArcjcyQU5EUWF6NkRNeUZITkJ1bnpkbkJCaWs2ZnNUWGplNVVlY29zT3Z3MUhUME5BaTJ3UDRKSURhM0NTaHdxOW9QdVY0QXNoclNiVXlKM0tzeWIwQWpjVHBoYVRWUlh0QmQzdDFEMjYyTW9sZWtHMTNQUjdiNGNxdkZQTi9aZDhUV0JlWlRFV1ZCNC80aVpjWWNaSVhQYnk1SDM1eU52eTdaWldvVG9sS3FweFlFNjFqTHJSTUMzNHN6L2lFMmR5VlJVOC9xK3kvbVBWZ00rSHZLZ1JWaTNhczh6clU3T3JSTGxXcWpjNlF5ZXRNSXljTkl1aHRZcnhKSWdVUjFncmF2REIwekRiL0ZTenhGQy90NldWVTRmZGRGYURwNkRyNS9Nbm56S21ZZHRxaUpvTjFaYmJ3MWp3cE5ocVlQMlVEdFhCZW8xZCtuM1M3bnZ6d1dqb1QwZUJQK3lyVzYwdkNBeWdtNVhvR0EzRFZWTkNFZ0ZkZTVWNEFRSXRGYVQ5WnA5Q0VzQWl5YU1Kbkw5NGZWL2RKbzFZZ0R6TllWN05BMjh5bWdVZGIrNTN3YnJIVlBhNEFMa2hYTGRyeUppSGE4QVdOQVorZWFiUHNCalNERmF5T0Q3eXBmNlhJT2JMeTVZcHpXRTk2ZDZmMzI5ZXVrUmlDanIvZjk1ZjY2aFc4VnVMMSs4TUtLZE9Ob2pMSDRBV09wMmhVMzZjL3dGV3F0b3Q=::" /></EquinoxInstance>        </EquinoxMessage>    
DEBUG|12:12:16:780|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EC02Controller|-1|=== >> INCOMING DATA
-->applicationName  :  Sample
-->session  : 668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615
-->via  : mOCHKF.E11.0
-->from  : mOCHKF.E11.0
-->diag  : 
-->state  : ACTIVE
-->timeout  : 10

-->rawdata(s)  : 1
-->raw data index : 0
	-->raw event type : Unknown
	-->message :             <ERDHeader>            </ERDHeader>            <ERDData value="{   &quot;resultCode&quot;: &quot;20000&quot;,   &quot;developerMessage&quot;: &quot;Query product success&quot;,   &quot;userMessage&quot;: &quot;Transaction success.&quot;,   &quot;moreInfo&quot;: &quot;&quot;,   &quot;resultData&quot;:    {      &quot;products&quot;: [      {         &quot;_id&quot;: &quot;5caf0d8edd70922b00cc4d4e&quot;,         &quot;productId&quot;: &quot;PD-1112&quot;,         &quot;productCategory&quot;:          {            &quot;categoryId&quot;: &quot;5a829fec874d4f770a093414&quot;,            &quot;categoryName&quot;: &quot;IoT&quot;,            &quot;categoryOrder&quot;: 1         },         &quot;productSubCategory&quot;:          {            &quot;subCategoryId&quot;: &quot;5a829fec874d4f770a093414&quot;,            &quot;subCategoryName&quot;: &quot;IOT Solution&quot;,            &quot;subCategoryOrder&quot;: 1         },         &quot;status&quot;: &quot;Active&quot;,         &quot;productPublic&quot;: true,         &quot;productName&quot;: &quot;Amazon Echo&quot;,         &quot;productShortDesc&quot;: &quot;Echo (1st Generation) - Smart speaker with Alexa - Charcoal Fabric&quot;,         &quot;productPriceDetail&quot;:          {            &quot;priceMethod&quot;: &quot;Price Plan&quot;,            &quot;conditionPricing&quot;:             [                              {                  &quot;priceCode&quot;: &quot;PC-00001&quot;,                  &quot;name&quot;: &quot;Plan A - Flat&quot;,                  &quot;conditionType&quot;: &quot;amount&quot;,                  &quot;conditionDetail&quot;:                   {                     &quot;amount&quot;:                      {                        &quot;data&quot;: 1,                        &quot;unit&quot;: &quot;Piece&quot;                     },                     &quot;price&quot;:                      {                        &quot;data&quot;: 6499,                        &quot;unit&quot;: &quot;THB&quot;                     },                     &quot;pricingMethod&quot;: &quot;flat&quot;                  }               },                              {                  &quot;priceCode&quot;: &quot;PC-00002&quot;,                  &quot;name&quot;: &quot;Plan B - Tier&quot;,                  &quot;conditionType&quot;: &quot;amount&quot;,                  &quot;conditionDetail&quot;:                   {                     &quot;amount&quot;:                      {                        &quot;data&quot;: 1,                        &quot;unit&quot;: &quot;Pieces&quot;                     },                     &quot;price&quot;:                      {                        &quot;data&quot;: 6499,                        &quot;unit&quot;: &quot;THB&quot;                     },                     &quot;pricingMethod&quot;: &quot;tier&quot;,                     &quot;pricing&quot;:                      [                                                {                           &quot;from&quot;: 1,                           &quot;to&quot;: 1,                           &quot;price&quot;: 6499                        },                                                {                           &quot;from&quot;: 2,                           &quot;to&quot;: 100,                           &quot;price&quot;: 6399                        },                                                {                           &quot;from&quot;: 101,                           &quot;to&quot;: 300,                           &quot;price&quot;: 6299                        },                                                {                           &quot;from&quot;: 301,                           &quot;to&quot;: 500,                           &quot;price&quot;: 6199                        },                                                {                           &quot;from&quot;: 501,                           &quot;to&quot;: -1,                           &quot;price&quot;: 5899                        }                     ]                  }               },                              {                  &quot;priceCode&quot;: &quot;PC-00003&quot;,                  &quot;name&quot;: &quot;Plan C - Volumn&quot;,                  &quot;conditionType&quot;: &quot;amount&quot;,                  &quot;conditionDetail&quot;:                   {                     &quot;amount&quot;:                      {                        &quot;data&quot;: 1,                        &quot;unit&quot;: &quot;Pieces&quot;                     },                     &quot;price&quot;:                      {                        &quot;data&quot;: 6499,                        &quot;unit&quot;: &quot;THB&quot;                     },                     &quot;pricingMethod&quot;: &quot;volumn&quot;,                     &quot;pricing&quot;:                      [                                                {                           &quot;from&quot;: 1,                           &quot;to&quot;: 1,                           &quot;price&quot;: 6499                        },                                                {                           &quot;from&quot;: 2,                           &quot;to&quot;: 100,                           &quot;price&quot;: 6450                        },                                                {                           &quot;from&quot;: 101,                           &quot;to&quot;: 300,                           &quot;price&quot;: 6250                        },                                                {                           &quot;from&quot;: 301,                           &quot;to&quot;: 500,                           &quot;price&quot;: 6199                        },                                                {                           &quot;from&quot;: 501,                           &quot;to&quot;: -1,                           &quot;price&quot;: 6000                        }                     ]                  }               }            ]         },         &quot;productImage&quot;:          [                        {               &quot;type&quot;: &quot;thumbnail&quot;,               &quot;imagePath&quot;: &quot;https://assets.pcmag.com/media/images/522880-amazon-echo-plus.jpg&quot;            },                        {               &quot;type&quot;: &quot;gallery&quot;,               &quot;imagePath&quot;: &quot;https://assets.pcmag.com/media/images/522880-amazon-echo-plus.jpg&quot;            },                        {               &quot;type&quot;: &quot;gallery&quot;,               &quot;imagePath&quot;: &quot;https://brain-images-ssl.cdn.dixons.com/4/8/10171184/l_10171184_003.jpg&quot;            },                        {               &quot;type&quot;: &quot;gallery&quot;,               &quot;imagePath&quot;: &quot;https://brain-images-ssl.cdn.dixons.com/4/8/10171184/l_10171184_006.jpg&quot;            },                        {               &quot;type&quot;: &quot;gallery&quot;,               &quot;imagePath&quot;: &quot;https://brain-images-ssl.cdn.dixons.com/4/8/10171184/l_10171184_007.jpg&quot;            }         ]      }],      &quot;productTotal&quot;: 2   }}"/>            
	-->ret : 0
	-->method : POST
	-->ctype : text/json
	-->orig : mOCHKF.ES05.DAMOCLES.0
	-->name : HTTP
	-->invoke : getResourceId_
	-->to : mOCHKF.ES00
	-->type : response
	-->url : 
ADEBUG|12:12:16:790|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|PCEFMain|16|## actionProcess || extractInstance || Finish...
ADEBUG|12:12:16:790|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|78|--------------------- [ Start Before Process ] ---------------------
ADEBUG|12:12:16:791|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|InvokeManager|21|raw data :ec02.data.EquinoxRawDataFactory$EquinoxRawDataImpl@2e8e8225
ADEBUG|12:12:16:792|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|InvokeManager|22|set event :SUCCESS
ADEBUG|12:12:16:792|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|InvokeManager|47|OK [0] phoebe.eqx.pcef.core.data.InvokeObject@6ebf0f36
ADEBUG|12:12:16:792|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|197|[Request Type]: USAGE_MONITORING
ADEBUG|12:12:16:792|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|81|--------------------- [ Stop Before Process  ] ---------------------
ADEBUG|12:12:16:793|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|82|--------------------- [   Start Do Process   ] ---------------------
ADEBUG|12:12:16:793|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|ComplexState|23|disPatch W_USAGE_MONITORING W_GET_RESOURCE_ID
ADEBUG|12:12:16:793|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|ComplexState|27|Invoke wGetResourceId
ADEBUG|12:12:16:923|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|GetResourceIdService|98|Read Get ResourceResponse ID Response ..
ADEBUG|12:12:16:923|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|InvokeManager|61|InvokeExternal found GetResourceId phoebe.eqx.pcef.core.data.InvokeObject@6ebf0f36
ADEBUG|12:12:17:137|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|PCEFUtils|166|[MESSAGE_FLOW] : {"message":"Read Get ResourceResponse ID Response :PD-1112","status":"Success","session":"SessionA123456781234679ACTIVE"}
ADEBUG|12:12:17:826|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|ComplexState|23|disPatch W_USAGE_MONITORING W_MONGO_PROCESS_USAGE_MONITORING
ADEBUG|12:12:17:826|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|ComplexState|27|Invoke wMongoUsageMonitoring
ADEBUG|12:12:20:003|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|ComplexState|23|disPatch W_MONGODB_PROCESS_USAGE_MONITORING BEGIN
ADEBUG|12:12:20:004|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|ComplexState|27|Invoke InitialProcess
ADEBUG|12:12:21:020|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|MongoDBService|90|[Query] insert,collection name:Transaction, query ={ "sessionId" : "SessionA123456781234679ACTIVE", "rtid" : "SPW-A1234567891234679100", "tid" : "SACF-756", "actualTime" : "20181105174020", "app" : "Cookie Run", "clientId" : "cGdb4azinlmwq8N5FDGXvQNwUKC352vv2de8fyCUIiI", "userType" : "privateId", "userValue" : "0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384", "resourceId" : "PD-1112", "resourceName" : "GSSO/sendOneTimePwd", "monitoringKey" : "", "counterId" : "", "createDate" : { "$date" : 1559884340950 }, "updateDate" : { "$date" : 1559884340950 }, "isActive" : 1, "status" : "Waiting" }
ADEBUG|12:12:21:086|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|PCEFUtils|166|[MESSAGE_FLOW] : {"message":"Insert Transaction","status":"Success","session":"SessionA123456781234679ACTIVE"}
ADEBUG|12:12:21:087|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|MongoDBService|86|[Query] find,collection name:Profile, query ={ "_id" : "0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384" }
ADEBUG|12:12:21:119|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|PCEFUtils|166|[MESSAGE_FLOW] : {"message":"Find Profile by privateId [Found]","status":"Success","session":"SessionA123456781234679ACTIVE"}
ADEBUG|12:12:21:422|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|ComplexState|23|disPatch W_MONGODB_PROCESS_USAGE_MONITORING CHECK_QUOTA_AVAILIABLE
ADEBUG|12:12:21:423|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|ComplexState|27|Invoke checkQuotaAvailable
ADEBUG|12:12:23:847|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|MongoDBService|86|[Query] find,collection name:Quota, query ={ "userValue" : "0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384", "resources" : { "$elemMatch" : { "resourceId" : "PD-1112" } } }
ADEBUG|12:12:23:849|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|PCEFUtils|166|[MESSAGE_FLOW] : {"message":"Find Quota resource Id:PD-1112[Not Found]","status":"Success","session":"SessionA123456781234679ACTIVE"}
ADEBUG|12:12:24:039|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|ComplexState|23|disPatch W_MONGODB_PROCESS_USAGE_MONITORING FIND_AND_MOD_PROFILE_FOR_WAIT_PROCESS
ADEBUG|12:12:24:040|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|ComplexState|27|Invoke findAndModProfileForWaitProcess
ADEBUG|12:12:24:218|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|MongoDBService|86|[Query] findAndModify,collection name:Profile, query ={ "userValue" : "0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384", "isProcessing" : 0 },{ "$set" : { "isProcessing" : 1 } }
ADEBUG|12:12:24:232|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|PCEFUtils|166|[MESSAGE_FLOW] : {"message":"Find and Modify Profile Lock privateId:0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384,[Found]","status":"Success","session":"SessionA123456781234679ACTIVE"}
ADEBUG|12:12:24:232|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|W_MONGODB_PROCESS_USAGE_MONITORING|161|State is Usage Monitoring First usage by resource
ADEBUG|12:12:24:379|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|ComplexState|64|stop by set END stateWork ..
ADEBUG|12:12:24:616|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|OCFUsageMonitoringService|132|Build Usage Monitoring Update Request ..
ADEBUG|12:12:24:712|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|MongoDBService|86|[Query] find,collection name:Transaction, query ={ "status" : "Waiting", "userValue" : "0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384", "monitoringKey" : "", "isActive" : 1, "tid" : { "$nin" : ["SACF-756"] } }
ADEBUG|12:12:24:714|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|TransactionService|124|[find other transaction start found]:0
ADEBUG|12:12:25:357|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|InvokeManager|100|Operation[UsageMonitoringUpdate] has configured retryTimeout number as 1
ADEBUG|12:12:25:358|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|PCEFUtils|166|[MESSAGE_FLOW] : {"message":"Build Usage Monitoring Update Request","status":"Success","session":"SessionA123456781234679ACTIVE"}
ADEBUG|12:12:26:128|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|233|Next State [L1]:BEGIN, [L2]:W_USAGE_MONITORING_UPDATE, [L3]:END
ADEBUG|12:12:26:128|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|84|--------------------- [    Stop Do Process   ] ---------------------
ADEBUG|12:12:26:129|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|85|--------------------- [ Start After Process  ] ---------------------
ADEBUG|12:12:26:129|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|357|[Get Min Timeout] timeout of request context =4
ADEBUG|12:12:26:129|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|366|[Get Min Timeout] request context size = 1,timeout =4
ADEBUG|12:12:26:129|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|272|EquinoxProperties timeout =4
ADEBUG|12:12:26:129|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|298|set State:ACTIVE, set Ret:NORMAL
ADEBUG|12:12:26:129|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|88|--------------------- [ Stop After Process   ] ---------------------
ADEBUG|12:12:26:130|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|PCEFMain|19|## actionProcess || callActionProcess || Finish...
ADEBUG|12:12:26:131|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|PCEFMain|22|## actionProcess || composeInstance || Finish...
DEBUG|12:12:26:131|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|AFProxy|-1|action process completed :: 9350
DEBUG|12:12:26:131|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EC02Controller|-1|=== >> OUTGOING DATA
-->applicationName  :  Sample
-->session  : 668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615
-->via  : mOCHKF.E11.0
-->from  : Sample.ES00
-->diag  : 
-->state  : ACTIVE
-->timeout  : 4

-->rawdata(s)  : 1
-->raw data index : 0
	-->message : {"command":"usageMonitoringUpdate","sessionId":"PCEF:ACTIVE:20190607095641","tid":"PCEF0000000002","requestNumber":"2","actualTime":"20181105174020","userType":"privateId","userValue":"0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384","resources":[{"resourceId":"PD-1112","resourceName":"GSSO/sendOneTimePwd","rtid":"SPW-A1234567891234679100"}]}
	-->method : POST
	-->ctype : text/plain
	-->name : HTTP
	-->invoke : umUpdate_
	-->to : rPCEF.ES04.OCF
	-->type : request
	-->url : /api/v1/metering-method
	-->timeout : 4
DEBUG|12:12:26:132|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EC02Handler|-1|
#====> Outgoing Message is:<?xml version="1.0" encoding="tis-620" ?><EquinoxMessage diag="" from="Sample.ES00" ret="0" session="668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615" via="mOCHKF.E11.0" timeout="4" ><EquinoxRawData to="Sample.E04.0" name="EQSTAT" type="noreply" ><stats name="rPCEF receive Get Product response [SUCCESS]" type="increment"/><stats name="rPCEF sent Usage Monitoring Update request [SUCCESS]" type="increment"/></EquinoxRawData><EquinoxRawData method="POST" ctype="text/plain" val="{&quot;command&quot;:&quot;usageMonitoringUpdate&quot;,&quot;sessionId&quot;:&quot;PCEF:ACTIVE:20190607095641&quot;,&quot;tid&quot;:&quot;PCEF0000000002&quot;,&quot;requestNumber&quot;:&quot;2&quot;,&quot;actualTime&quot;:&quot;20181105174020&quot;,&quot;userType&quot;:&quot;privateId&quot;,&quot;userValue&quot;:&quot;0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384&quot;,&quot;resources&quot;:[{&quot;resourceId&quot;:&quot;PD-1112&quot;,&quot;resourceName&quot;:&quot;GSSO/sendOneTimePwd&quot;,&quot;rtid&quot;:&quot;SPW-A1234567891234679100&quot;}]}" name="HTTP" invoke="umUpdate_" to="rPCEF.ES04.OCF" type="request" url="/api/v1/metering-method" timeout="4" ></EquinoxRawData><EquinoxInstance><value val="1::ACTIVE::false::ZUY3ZFZsdHY0am9RL2l1VmRSNXBtNFNFQk40NDNBNXFDU3lYYmFXbHFyemdVbThUT3pnT2xFWDg5ek8rUUtIYnF0dVZ6c3NwRDRXWjhYZ3VuNytaTFJKa1daQmNOamlUNUZubXFQWnRpN0laZWVpeVhHSTJJNmkyUlRuSmM4cFpkNDVxYUdTKzExMnY3QWVWTUZML0syRzEzaGgzdjdaUUNjRXBJY2MwaFlOdUVGU2p5QytYeTA3Wks2RWl4d3ZTNDR4S0xpaGJETTNGeXYrTXB5bG15dnNyRytYdkUzZExxaU9zTjlybllWQ0J3OEpLQmpmbmg0Q3JObUxYY2NBQ3oyU0JFeE12OGh3M2NsMG5jRVBmOGJRMnk4QmhnL01uU3M2R0JRUFJMS0dFU1YyS1dXZiszY2MvS1V2UzlUS0tnM2F6Yzd2NkVxOG5WNDF5NEsxVzNweEVENXZHcEV1N2NMRElpUmh2TXFnTHlnUmRZVW5BaVJGL3hVbWg1TTV0OWJhemVaYlBUNzJmUHg3andlMHdDUWZEYXR0Zjl2bVBhMWwzQXo4S2d6Q0tnbkxrcS9SSXpnc3hJekZXNVVhZDBhaC9tUk0yN3pPaU1ocXM1MmhYZ3R2NEEwMTBJKzkxZ1Q1N3pYOFFPYzBIZ3M5VWE5a0MxUnpWWm9BaHdDMHUwdTlFb0JyZzVianpnMGFyWFRNWXEwR1hxazdGQ1oxcVVQRmQweVZPbVV5aEwwMG9xd1ZlV0kyZ2lZNERGWkFDc3h3NkRSaitMSncvUnRBdm9QdGZRRW9EZk5BOGQxM1grejJrbFZCNmVOdFhaQVBIMVd2aEJmQ0swTjdVVDBHZ1FVZE5BbmJ3b1k4QWdDS2J2NmVpZVIxNnQxS04xZndpQzZBcGRJT3BWT2lCL25MNVNNUklFODlMcHhXVjNaVVFFWUlEbmg1d2toTVZUNXBTaFJKczFZeXNoL1lWNVphUkRBZnUzOWFmRk9JajBPd2dMc3FBRDQ3alJUVXBDZ2h4V1hDSmUzeE9IemJYTkpjcUMwaVJzaFYvSWozTWdFTWhuUzFLakc1ck5Uck1JcDNvS3Q1RHFYbEdCRGFJUjVOVDVqVkd4elpEREZWWUtyZlNNQlNaT2Q0RnVNSVhyV1ZCR1g4R0MxVzFOb0NiaTgxZnA5SnVtaVhnVHRrckg4TFkxcVhVa2FaRVBuSU5wLzVvckVCZzcxRHo1akpMTUZXMHlneUYvVE1lRCtDWHlmWlZScEtEUUNnbXVHaU5IUCtpMzJpRHFYVm14eGdJQ3BHQTNTWE82T1hLdllUTGlabzI1ellLT0FETXlBdW9LL0lWZGlEWTFncVl3MUx6aEQweHZsWVJrV05wZkJYM2IyS1EydHg2UUYzUUNYQ3luZTdIMXhUVnBxOEhtQ24xRkpXbUwzU203ZDRuTkcwTXBISXdBdzR6ZjU1VzJVd05VV29qSTMraEhTTThtV1g2NUo3SHRmNHdndzRxUFlXMDdsTUR3Z1psSmxFTzU3OUJTVjVlajBuREVNbUpxUnBhV3ZuRzJES0creUtNM2huZlU3UzcyNkVkTlBFUncrUE5pd1M2YWgrNklGSUFCd0ZoNkcvN3NRSkVBL1U3WFUvOG9CeUU0RW1yMUM3VTFXOU52eWpYS1lNeWl0eFFJV0w1REZNcnN4c1FhRDlWSndVZTQzOFB0Vkc5MDdydjllUHV1RC9zeGgwRlpvUE5VNElNSE5lcnFqY0JTRjVoQUxkTmNTOFltbFRWRUgxNzk3S3NTYTVkaVBudlZxZXJnS3g0bEZ4N0lMbTVuN3lLNUg0eWFOYkhkcHNEcXpKWXRlSW1uRm9ENmJhNXNNUDdFRXJDWjA4Z00ydUdvakhGY0hrQlc1M1lYUE9GWWRTRUwvYUxDcEY3MHRVN2tIbnV1dUNMWTVYaXNSY3ZUU0l4aGZSUEtPOFgrME43MVRhbjl3VFhnMC9seklGdDFmUUFydEZmMUJUWmFnQUJuUjZDZTQ4c2o0STg1dGtQNGpzMmZUczBMemh6QUdQdmhIYTMreGNJQjYyTA==::" /></EquinoxInstance></EquinoxMessage>
DEBUG|12:12:26:132|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EC02Handler|-1|
-->TIME,total Processing Time(msec) : 9363
-->TIME,application process (msec) :9350
-->TIME,ec02 process(msec) : 13
DEBUG|12:12:26:134|main|EC02Handler|-1|Received data from LL Content-Length: 3548
DEBUG|12:12:26:134|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EC02Handler|-1|
#====> Incoming Message :        <EquinoxMessage from="mOCHKF.E11.0" via="mOCHKF.E11.0"                        session="668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615"                        timeout="10" ret="0" diag="">            <EquinoxRawData orig="mOCHKF.ES05.DAMOCLES.0" name="HTTP" invoke="umUpdate_" type="response" method="POST"                            url="/rpcef/api/v1/metering-method" ctype="text/plain" val="{    &quot;command&quot;:&quot;usageMonitoringUpdate&quot;,    &quot;sessionId&quot;:&quot;SessionA1234567891234679ACTIVE&quot;,    &quot;tid&quot;:&quot;TRANSACTION001&quot;,    &quot;requestNumber&quot;:&quot;1&quot;,    &quot;userType&quot;:&quot;privateId&quot;,    &quot;userValue&quot;:&quot;0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384&quot;,    &quot;status&quot;:&quot;207&quot;,   &quot;devMessage&quot;:&quot;PARTIAL_SUCCESS&quot;,    &quot;resources&quot;:[        {            &quot;resourceId&quot;:&quot;PD-1112&quot;,            &quot;resourceName&quot;:&quot;API_A&quot;,           &quot;rtid&quot;:&quot;R-TRAN-001&quot;,            &quot;resultCode&quot;:&quot;20000&quot;,            &quot;resultDesc&quot;:&quot;SUCCESS&quot;,            &quot;monitoringKey&quot;:&quot;1001&quot;,           &quot;counterId&quot;:&quot;4001000001&quot;        }]}"                            to="mOCHKF.ES00" ret="0"/>            <EquinoxInstance><value val="1::ACTIVE::false::ZUY3ZFZsdHY0am9RL2l1VmRSNXBtNFNFQk40NDNBNXFDU3lYYmFXbHFyemdVbThUT3pnT2xFWDg5ek8rUUtIYnF0dVZ6c3NwRDRXWjhYZ3VuNytaTFJKa1daQmNOamlUNUZubXFQWnRpN0laZWVpeVhHSTJJNmkyUlRuSmM4cFpkNDVxYUdTKzExMnY3QWVWTUZML0syRzEzaGgzdjdaUUNjRXBJY2MwaFlOdUVGU2p5QytYeTA3Wks2RWl4d3ZTNDR4S0xpaGJETTNGeXYrTXB5bG15dnNyRytYdkUzZExxaU9zTjlybllWQ0J3OEpLQmpmbmg0Q3JObUxYY2NBQ3oyU0JFeE12OGh3M2NsMG5jRVBmOGJRMnk4QmhnL01uU3M2R0JRUFJMS0dFU1YyS1dXZiszY2MvS1V2UzlUS0tnM2F6Yzd2NkVxOG5WNDF5NEsxVzNweEVENXZHcEV1N2NMRElpUmh2TXFnTHlnUmRZVW5BaVJGL3hVbWg1TTV0OWJhemVaYlBUNzJmUHg3andlMHdDUWZEYXR0Zjl2bVBhMWwzQXo4S2d6Q0tnbkxrcS9SSXpnc3hJekZXNVVhZDBhaC9tUk0yN3pPaU1ocXM1MmhYZ3R2NEEwMTBJKzkxZ1Q1N3pYOFFPYzBIZ3M5VWE5a0MxUnpWWm9BaHdDMHUwdTlFb0JyZzVianpnMGFyWFRNWXEwR1hxazdGQ1oxcVVQRmQweVZPbVV5aEwwMG9xd1ZlV0kyZ2lZNERGWkFDc3h3NkRSaitMSncvUnRBdm9QdGZRRW9EZk5BOGQxM1grejJrbFZCNmVOdFhaQVBIMVd2aEJmQ0swTjdVVDBHZ1FVZE5BbmJ3b1k4QWdDS2J2NmVpZVIxNnQxS04xZndpQzZBcGRJT3BWT2lCL25MNVNNUklFODlMcHhXVjNaVVFFWUlEbmg1d2toTVZUNXBTaFJKczFZeXNoL1lWNVphUkRBZnUzOWFmRk9JajBPd2dMc3FBRDQ3alJUVXBDZ2h4V1hDSmUzeE9IemJYTkpjcUMwaVJzaFYvSWozTWdFTWhuUzFLakc1ck5Uck1JcDNvS3Q1RHFYbEdCRGFJUjVOVDVqVkd4elpEREZWWUtyZlNNQlNaT2Q0RnVNSVhyV1ZCR1g4R0MxVzFOb0NiaTgxZnA5SnVtaVhnVHRrckg4TFkxcVhVa2FaRVBuSU5wLzVvckVCZzcxRHo1akpMTUZXMHlneUYvVE1lRCtDWHlmWlZScEtEUUNnbXVHaU5IUCtpMzJpRHFYVm14eGdJQ3BHQTNTWE82T1hLdllUTGlabzI1ellLT0FETXlBdW9LL0lWZGlEWTFncVl3MUx6aEQweHZsWVJrV05wZkJYM2IyS1EydHg2UUYzUUNYQ3luZTdIMXhUVnBxOEhtQ24xRkpXbUwzU203ZDRuTkcwTXBISXdBdzR6ZjU1VzJVd05VV29qSTMraEhTTThtV1g2NUo3SHRmNHdndzRxUFlXMDdsTUR3Z1psSmxFTzU3OUJTVjVlajBuREVNbUpxUnBhV3ZuRzJES0creUtNM2huZlU3UzcyNkVkTlBFUncrUE5pd1M2YWgrNklGSUFCd0ZoNkcvN3NRSkVBL1U3WFUvOG9CeUU0RW1yMUM3VTFXOU52eWpYS1lNeWl0eFFJV0w1REZNcnN4c1FhRDlWSndVZTQzOFB0Vkc5MDdydjllUHV1RC9zeGgwRlpvUE5VNElNSE5lcnFqY0JTRjVoQUxkTmNTOFltbFRWRUgxNzk3S3NTYTVkaVBudlZxZXJnS3g0bEZ4N0lMbTVuN3lLNUg0eWFOYkhkcHNEcXpKWXRlSW1uRm9ENmJhNXNNUDdFRXJDWjA4Z00ydUdvakhGY0hrQlc1M1lYUE9GWWRTRUwvYUxDcEY3MHRVN2tIbnV1dUNMWTVYaXNSY3ZUU0l4aGZSUEtPOFgrME43MVRhbjl3VFhnMC9seklGdDFmUUFydEZmMUJUWmFnQUJuUjZDZTQ4c2o0STg1dGtQNGpzMmZUczBMemh6QUdQdmhIYTMreGNJQjYyTA==::" /></EquinoxInstance>        </EquinoxMessage>    
DEBUG|12:12:26:135|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EC02Controller|-1|=== >> INCOMING DATA
-->applicationName  :  Sample
-->session  : 668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615
-->via  : mOCHKF.E11.0
-->from  : mOCHKF.E11.0
-->diag  : 
-->state  : ACTIVE
-->timeout  : 10

-->rawdata(s)  : 1
-->raw data index : 0
	-->raw event type : Unknown
	-->message : {    &quot;command&quot;:&quot;usageMonitoringUpdate&quot;,    &quot;sessionId&quot;:&quot;SessionA1234567891234679ACTIVE&quot;,    &quot;tid&quot;:&quot;TRANSACTION001&quot;,    &quot;requestNumber&quot;:&quot;1&quot;,    &quot;userType&quot;:&quot;privateId&quot;,    &quot;userValue&quot;:&quot;0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384&quot;,    &quot;status&quot;:&quot;207&quot;,   &quot;devMessage&quot;:&quot;PARTIAL_SUCCESS&quot;,    &quot;resources&quot;:[        {            &quot;resourceId&quot;:&quot;PD-1112&quot;,            &quot;resourceName&quot;:&quot;API_A&quot;,           &quot;rtid&quot;:&quot;R-TRAN-001&quot;,            &quot;resultCode&quot;:&quot;20000&quot;,            &quot;resultDesc&quot;:&quot;SUCCESS&quot;,            &quot;monitoringKey&quot;:&quot;1001&quot;,           &quot;counterId&quot;:&quot;4001000001&quot;        }]}
	-->val : {    "command":"usageMonitoringUpdate",    "sessionId":"SessionA1234567891234679ACTIVE",    "tid":"TRANSACTION001",    "requestNumber":"1",    "userType":"privateId",    "userValue":"0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384",    "status":"207",   "devMessage":"PARTIAL_SUCCESS",    "resources":[        {            "resourceId":"PD-1112",            "resourceName":"API_A",           "rtid":"R-TRAN-001",            "resultCode":"20000",            "resultDesc":"SUCCESS",            "monitoringKey":"1001",           "counterId":"4001000001"        }]}
	-->ret : 0
	-->method : POST
	-->ctype : text/plain
	-->orig : mOCHKF.ES05.DAMOCLES.0
	-->name : HTTP
	-->invoke : umUpdate_
	-->to : mOCHKF.ES00
	-->type : response
	-->url : /rpcef/api/v1/metering-method
ADEBUG|12:12:26:136|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|PCEFMain|16|## actionProcess || extractInstance || Finish...
ADEBUG|12:12:26:136|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|78|--------------------- [ Start Before Process ] ---------------------
ADEBUG|12:12:26:137|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|InvokeManager|21|raw data :ec02.data.EquinoxRawDataFactory$EquinoxRawDataImpl@502f8b57
ADEBUG|12:12:26:137|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|InvokeManager|22|set event :SUCCESS
ADEBUG|12:12:26:137|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|InvokeManager|47|OK [0] phoebe.eqx.pcef.core.data.InvokeObject@5652f555
ADEBUG|12:12:26:137|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|197|[Request Type]: USAGE_MONITORING
ADEBUG|12:12:26:137|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|81|--------------------- [ Stop Before Process  ] ---------------------
ADEBUG|12:12:26:137|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|82|--------------------- [   Start Do Process   ] ---------------------
ADEBUG|12:12:26:137|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|ComplexState|23|disPatch W_USAGE_MONITORING W_USAGE_MONITORING_UPDATE
ADEBUG|12:12:26:138|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|ComplexState|27|Invoke wUsageMonitoringUpdate
ADEBUG|12:12:27:472|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|OCFUsageMonitoringService|256|Read Usage Monitoring Update Response ..
ADEBUG|12:12:27:473|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|InvokeManager|61|InvokeExternal found UsageMonitoringUpdate phoebe.eqx.pcef.core.data.InvokeObject@5652f555
ADEBUG|12:12:27:477|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|PCEFUtils|166|[MESSAGE_FLOW] : {"message":"Read Usage Monitoring Update Response","status":"Success","session":"SessionA123456781234679ACTIVE"}
ADEBUG|12:12:34:722|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|MongoDBService|97|Find data to commit
ADEBUG|12:12:34:731|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|MongoDBService|86|[Query] aggregate,collection name:Quota, query =[{ "$unwind" : "$resources" }, { "$lookup" : { "from" : "Transaction", "let" : { "resourceId" : "$resources.resourceId" }, "pipeline" : [{ "$match" : { "$expr" : { "$and" : [{ "$eq" : ["$resourceId", "$$resourceId"] }, { "$eq" : ["$status", "Done"] }, { "$eq" : ["$userValue", "0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384"] }] } } }], "as" : "transactionData" } }, { "$unwind" : { "path" : "$transactionData", "preserveNullAndEmptyArrays" : true } }, { "$sort" : { "transactionData.createDate" : -1 } }, { "$match" : { "transactionData.monitoringKey" : "1001" } }, { "$group" : { "_id" : { "monitoringKey" : "$monitoringKey", "resourceId" : "$resources.resourceId", "resourceName" : "$resources.resourceName" }, "transactionIds" : { "$push" : "$transactionData.tid" }, "rtids" : { "$push" : "$transactionData.rtid" }, "expireDate" : { "$max" : "$expireDate" }, "quotaByKey" : { "$max" : "$quotaByKey" } } }, { "$project" : { "transactionIds" : "$transactionIds", "count" : { "$cond" : { "if" : { "$isArray" : "$transactionIds" }, "then" : { "$size" : "$transactionIds" }, "else" : "" } }, "expireDate" : 1, "quotaByKey" : 1, "lastRtid" : { "$slice" : ["$rtids", -1] } } }]
ADEBUG|12:12:34:815|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|MongoDBService|192|mk:1001 ,resourceId:PD-1111 ,expireDate:2019-06-07T03:56:42.000Z ,quota available unit:1 ,lastRtid:SPW-A12345678912346791 ,count transaction:1
ADEBUG|12:12:39:210|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|TransactionService|251|Exist Quota Exhaust mk:1001
ADEBUG|12:13:26:057|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|PCEFUtils|166|[MESSAGE_FLOW] : {"message":"Quota Action","status":"Success","session":"SessionA123456781234679ACTIVE"}
ADEBUG|12:13:32:223|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|TransactionService|404|Update transaction and other start transaction..
ADEBUG|12:13:32:964|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|PCEFUtils|166|[MESSAGE_FLOW] : {"message":"Update Transaction","status":"Success","session":"SessionA123456781234679ACTIVE"}
ADEBUG|12:13:44:209|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|ProfileService|85|Update Profile Unlock ..
ADEBUG|12:13:44:212|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|MongoDBService|86|[Query] update,collection name:Profile, query ={ "userValue" : "0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384", "isProcessing" : 1 },{ "$set" : { "isProcessing" : 0, "sequenceNumber" : 2 } }
ADEBUG|12:13:44:223|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|PCEFUtils|166|[MESSAGE_FLOW] : {"message":"Update Profile Unlock","status":"Success","session":"SessionA123456781234679ACTIVE"}
ADEBUG|12:13:52:173|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|ComplexState|23|disPatch W_USAGE_MONITORING W_MONGO_PROCESS_USAGE_MONITORING_MOD_PROCESS
ADEBUG|12:13:52:173|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|ComplexState|27|Invoke modProcess
ADEBUG|12:13:57:144|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|ComplexState|23|disPatch W_MOD_PROCESS BEGIN
ADEBUG|12:13:57:144|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|ComplexState|27|Invoke wModQuota
ADEBUG|12:14:05:159|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|MongoDBService|86|[Query] findAndModify,collection name:Quota, query ={ "_id" : "1001", "processing" : 0 },{ "$set" : { "processing" : 1 } }
ADEBUG|12:14:05:189|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|PCEFUtils|166|[MESSAGE_FLOW] : {"message":"Find and Modify Quota Lock Process","status":"Success","session":"SessionA123456781234679ACTIVE"}
ADEBUG|12:14:23:013|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|ComplexState|23|disPatch W_MOD_PROCESS FIND_AND_MOD_PROFILE_FOR_WAIT_PROCESS
ADEBUG|12:14:23:014|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|ComplexState|27|Invoke wModProfile
ADEBUG|12:14:23:851|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|MongoDBService|86|[Query] findAndModify,collection name:Profile, query ={ "userValue" : "0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384", "isProcessing" : 0 },{ "$set" : { "isProcessing" : 1 } }
ADEBUG|12:14:23:858|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|PCEFUtils|166|[MESSAGE_FLOW] : {"message":"Find and Modify Profile Lock privateId:0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384,[Found]","status":"Success","session":"SessionA123456781234679ACTIVE"}
ADEBUG|12:14:32:795|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|ComplexState|64|stop by set END stateWork ..
ADEBUG|12:14:42:565|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|OCFUsageMonitoringService|132|Build Usage Monitoring Update Request ..
ADEBUG|12:14:45:939|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|MongoDBService|86|[Query] find,collection name:Transaction, query ={ "status" : "Waiting", "userValue" : "0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384", "monitoringKey" : "", "isActive" : 1, "tid" : { "$nin" : ["SACF-756"] } }
ADEBUG|12:15:00:194|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|TransactionService|124|[find other transaction start found]:0
ADEBUG|12:15:16:676|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|InvokeManager|100|Operation[UsageMonitoringUpdate] has configured retryTimeout number as 1
ADEBUG|12:15:18:373|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|PCEFUtils|166|[MESSAGE_FLOW] : {"message":"Build Usage Monitoring Update Request","status":"Success","session":"SessionA123456781234679ACTIVE"}
ADEBUG|13:13:20:157|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|233|Next State [L1]:BEGIN, [L2]:W_USAGE_MONITORING_UPDATE, [L3]:END
ADEBUG|13:13:20:157|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|84|--------------------- [    Stop Do Process   ] ---------------------
ADEBUG|13:13:20:158|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|85|--------------------- [ Start After Process  ] ---------------------
ADEBUG|13:13:20:158|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|357|[Get Min Timeout] timeout of request context =4
ADEBUG|13:13:20:158|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|366|[Get Min Timeout] request context size = 1,timeout =4
ADEBUG|13:13:20:158|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|272|EquinoxProperties timeout =4
ADEBUG|13:13:20:159|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|298|set State:ACTIVE, set Ret:NORMAL
ADEBUG|13:13:20:159|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|88|--------------------- [ Stop After Process   ] ---------------------
ADEBUG|13:13:20:159|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|PCEFMain|19|## actionProcess || callActionProcess || Finish...
ADEBUG|13:13:20:161|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|PCEFMain|22|## actionProcess || composeInstance || Finish...
DEBUG|13:13:20:161|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|AFProxy|-1|action process completed :: 3654026
DEBUG|13:13:20:161|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EC02Controller|-1|=== >> OUTGOING DATA
-->applicationName  :  Sample
-->session  : 668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615
-->via  : mOCHKF.E11.0
-->from  : Sample.ES00
-->diag  : 
-->state  : ACTIVE
-->timeout  : 4

-->rawdata(s)  : 1
-->raw data index : 0
	-->message : {"command":"usageMonitoringUpdate","sessionId":"PCEF:ACTIVE:20190607095641","tid":"PCEF0000000003","requestNumber":"3","actualTime":"20181105174020","userType":"privateId","userValue":"0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384","resources":[{"resourceId":"PD-1111","resourceName":"API_A","rtid":"SPW-A12345678912346791","monitoringKey":"1001","unitType":"unit","usedUnit":"1","reportingReason":"0"},{"resourceId":"PD-1112","resourceName":"GSSO/sendOneTimePwd","rtid":"SPW-A1234567891234679100"}]}
	-->method : POST
	-->ctype : text/plain
	-->name : HTTP
	-->invoke : umUpdate_
	-->to : rPCEF.ES04.OCF
	-->type : request
	-->url : /api/v1/metering-method
	-->timeout : 4
DEBUG|13:13:20:163|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EC02Handler|-1|
#====> Outgoing Message is:<?xml version="1.0" encoding="tis-620" ?><EquinoxMessage diag="" from="Sample.ES00" ret="0" session="668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615" via="mOCHKF.E11.0" timeout="4" ><EquinoxRawData to="Sample.E04.0" name="EQSTAT" type="noreply" ><stats name="rPCEF receive Usage Monitoring Update response [SUCCESS]" type="increment"/><stats name="rPCEF sent Usage Monitoring Update request [SUCCESS]" type="increment"/></EquinoxRawData><EquinoxRawData method="POST" ctype="text/plain" val="{&quot;command&quot;:&quot;usageMonitoringUpdate&quot;,&quot;sessionId&quot;:&quot;PCEF:ACTIVE:20190607095641&quot;,&quot;tid&quot;:&quot;PCEF0000000003&quot;,&quot;requestNumber&quot;:&quot;3&quot;,&quot;actualTime&quot;:&quot;20181105174020&quot;,&quot;userType&quot;:&quot;privateId&quot;,&quot;userValue&quot;:&quot;0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384&quot;,&quot;resources&quot;:[{&quot;resourceId&quot;:&quot;PD-1111&quot;,&quot;resourceName&quot;:&quot;API_A&quot;,&quot;rtid&quot;:&quot;SPW-A12345678912346791&quot;,&quot;monitoringKey&quot;:&quot;1001&quot;,&quot;unitType&quot;:&quot;unit&quot;,&quot;usedUnit&quot;:&quot;1&quot;,&quot;reportingReason&quot;:&quot;0&quot;},{&quot;resourceId&quot;:&quot;PD-1112&quot;,&quot;resourceName&quot;:&quot;GSSO/sendOneTimePwd&quot;,&quot;rtid&quot;:&quot;SPW-A1234567891234679100&quot;}]}" name="HTTP" invoke="umUpdate_" to="rPCEF.ES04.OCF" type="request" url="/api/v1/metering-method" timeout="4" ></EquinoxRawData><EquinoxInstance><value val="1::ACTIVE::false::ZUY3ZFYxMVBLa2tRL1N1bXM0K29Nd3dEQTI5Y0JKWmNCWmFQcTRrYU14ZGE3ZXN3UGZUMG9GemlmOTlUM1FPQ1l0UmtOOW1zUGdqVjFkWDFjZXBVdVdLS3p6T2U2b2FNTlgvU0thdGRybGd5NGJlZE9OVmhQT0dzdG1JcFQxTWg0ODZVMWRqUWZxNjdSYS9rbHlzQi9TMVhxdlhHcVBPanlRb010NVFlaVJrdXVyNWZEWUtTNTNtT1Z5eXdMQTN2K0ptTWhaWkt4SGNEK3pEWm44alpMSXpKK2lzZHN2ZUZ0N1V3SHRZYnJjT0tYOFpsbFV2NjU0Y2JoNnU1eDY3alFDT2M2Q3lNckwrczZMaUI2enErV3lrNVJYT2FKRERZa1BKQjhJTkJGa00waVFTUHRVbkZwRDM5V1FwL2l6aWFQYzZEcnQ4NmFWOHMvdW8ranI4M1BMKzRXQlNuUExoZE5zWWQwY0hGTE9WcXRFeVFGNVlvc1FnMWh4RXIvaEZHR2NtZGkrcEZlL21rbng3T2Z2KzY3L1l2QmxHbFA2aTJTdk9lL0hXcTY2NWZDaXArSlFoOEx5aFJlRHlWbVpyd2JranBadTNoc0hlYzhuamFpemxGMUgrY3N1Y0NYcE8zSWpLRnZERUordW96LzRMbkl1MHJPYUhTeG5lczVsQ1pBVVBBclp2TmZuTEZhdDV1NWZ1TlpxdG1NVlpEbGFwTzJhazRWYjljY20yVnBJajFESFU1UVZwejRGV3FBWXJvT01pQVZtR2NvdExBOEZmaC9ER0Mzb0R1ZndFcEEvRCt5YUhydXNYUElhM0FacHZlL3M2WHVFN2RJalB3aWpMVzZLdmlLTkJXa2NBT0pkUVJBTWlTNlh0SElxMmpkZ3Nxck9FWG5ZR20ySGtvTktFSDlaWDZucXVoSVo2WFNoT1ZYUmNZVjBvQ1Q3ZGhsSEx5WnpZVGhKTFFNcDFwaU5VYno4RU5CS3gxZjIwbFkxdWN0MTI5MzdtcGt4c21XT01rZjBxRTJvNXpEY1lkTEhhbTVJVGxLNWZCMXloTTljRGdDZEs5bkVWYTgwenE4TnZTNUhqRk12QnBUaXYwa1JpRi9wQVhpekFTVTZHWGx0MjhNbnJoR2Zkai9qaklpU1BOU2RnbVkwKzRuNjc5UjMzeVhGanRTK2MvWngrQmlSZ1V1dzBCVnRNcVE5Vk54czdrVk53dVQwV0s1RnhlbzF3aVhzZ0hmaGJHR0V0QXlJcEY5bXlWbjVpcVo3T3hBZVlORWlzVHJrSkxJbXk4Tzh5czByYk9JRVNXNTJSV1c5TG5FNmQ0QkZQaFVYT2VpVmcrUVlPQTJBSmZTTFg4WTFmYW1TVVJ6SkUrMlZCV3Q2NjE4WFRHOWIwMEhkb2JqcWl2OGpkb2hCOG5VU2hvVXNWMkt2dzVHdlh4elViN0tpSXRJVkJFcmtmTm9WTTY2alZhVU0yTjVac0JJVXBGMERzT0UzRzhjSS94T0tjQmZwaDdnUXNZTmpKRFhsbUorZ0RPTmhjZzR4eVc0L2dobG8va0VkK1dkcjkzZStkZFNQUFl6akFOVUFrWVdWMnRONElyVnJ0NnZSUFlWRit4d3RYTGJtRDAzcDhSUmhsOXRWSERXTEEvbmpuS0k3V3p4eWhaK1F1VEcrSHVlbUJ1cmtlak9kK005YzJSR2V6bTdFc3pOM2ZLRHZjVTl5K1JrcGZ1dEdFWWJuWjNWSW1RektHaEpIdTBEbnMvbnhpZEhkNDI5NG4vYkJBNXV4Z3BFY3M2dE9uWWZDSGQzSVZFZ2dOb3JRdFRHZHVZcjRDRzl6d3Y3dmQ4enc3em1UZ2NCMjlkUDdObndPOCtCSzJsV1FRODVxeXZ1RllnUzFDaStiVGVNVEIxVVBtZFhkVjN5K1ZLR1piTUVTM0dIY01TaGd0Y3gvTm8rM0lyaE9YNUUxYVlKRitIY2ZxbENoUHNyZjExa3d6cjdlYk5XYS9iR2ZVR25XNmIydEIyMWZhMERCeW41UG9CZFRONkVQeStDWEV0R05oUWFhUGF2NGpuSTVTZnV2RDVXN1Bkb1Jha29jcFBpNUNjMzR4ZmVYSXo3cC9VUi9scUR5MFBXczN1Q1c0OVlnSzNwTW8zdVkwcmtadzhRR1ozVGlKZ0dqcHBoaFZmTFUvbG5aMDFrYnhiYjYxY3I4Y1JzcndtS3BQd3UrMGpZdUFYS3lkY2h3TGg3NUQxRy8xTmVhbDN6ZExvRnZGYlBuRHdyNHV0QVo0eEgyaWxXQmtBWVJCc25IdVA1aTJidnBrUUgvaTNQVXoydTFiMER4eGc3RC9vR2pyandFRnZ2T1BhOWZQZndEZCs3UT09::" /></EquinoxInstance></EquinoxMessage>
DEBUG|13:13:20:163|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EC02Handler|-1|
-->TIME,total Processing Time(msec) : 3654029
-->TIME,application process (msec) :3654026
-->TIME,ec02 process(msec) : 3
DEBUG|13:13:20:165|main|EC02Handler|-1|Received data from LL Content-Length: 4905
DEBUG|13:13:20:165|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EC02Handler|-1|
#====> Incoming Message :        <EquinoxMessage from="mOCHKF.E11.0" via="mOCHKF.E11.0"                        session="668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615"                        timeout="10" ret="0" diag="">            <EquinoxRawData orig="mOCHKF.ES05.DAMOCLES.0" name="HTTP" invoke="umUpdate_" type="response" method="POST"                            url="/rpcef/api/v1/metering-method" ctype="text/plain" val="{    &quot;command&quot;:&quot;usageMonitoringUpdate&quot;,    &quot;sessionId&quot;:&quot;SessionA1234567891234679ACTIVE&quot;,    &quot;tid&quot;:&quot;TRANSACTION001&quot;,    &quot;requestNumber&quot;:&quot;1&quot;,    &quot;userType&quot;:&quot;privateId&quot;,    &quot;userValue&quot;:&quot;0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384&quot;,    &quot;status&quot;:&quot;207&quot;,   &quot;devMessage&quot;:&quot;PARTIAL_SUCCESS&quot;,    &quot;resources&quot;:[        {            &quot;resourceId&quot;:&quot;PD-1112&quot;,            &quot;resourceName&quot;:&quot;API_A&quot;,           &quot;rtid&quot;:&quot;R-TRAN-001&quot;,            &quot;resultCode&quot;:&quot;20000&quot;,            &quot;resultDesc&quot;:&quot;SUCCESS&quot;,            &quot;monitoringKey&quot;:&quot;1001&quot;,           &quot;counterId&quot;:&quot;4001000001&quot;,            &quot;quotaByKey&quot;:{                &quot;unitType&quot;:&quot;unit&quot;,                &quot;unit&quot;:&quot;100&quot;,                &quot;validityTime&quot;:&quot;3600&quot;            },            &quot;rateLimitByKey&quot;:{                &quot;transactionPerTime&quot;:&quot;100|60&quot;            }        },         {            &quot;resourceId&quot;:&quot;PD-1112&quot;,            &quot;resourceName&quot;:&quot;API_A&quot;,           &quot;rtid&quot;:&quot;R-TRAN-001&quot;,            &quot;resultCode&quot;:&quot;20000&quot;,            &quot;resultDesc&quot;:&quot;SUCCESS&quot;,            &quot;monitoringKey&quot;:&quot;1001&quot;,           &quot;counterId&quot;:&quot;4001000001&quot;,            &quot;quotaByKey&quot;:{                &quot;unitType&quot;:&quot;unit&quot;,                &quot;unit&quot;:&quot;100&quot;,                &quot;validityTime&quot;:&quot;3600&quot;            },            &quot;rateLimitByKey&quot;:{                &quot;transactionPerTime&quot;:&quot;100|60&quot;            }        }    ]}"                            to="mOCHKF.ES00" ret="0"/>            <EquinoxInstance><value val="1::ACTIVE::false::ZUY3ZFYxMVBLa2tRL1N1bXM0K29Nd3dEQTI5Y0JKWmNCWmFQcTRrYU14ZGE3ZXN3UGZUMG9GemlmOTlUM1FPQ1l0UmtOOW1zUGdqVjFkWDFjZXBVdVdLS3p6T2U2b2FNTlgvU0thdGRybGd5NGJlZE9OVmhQT0dzdG1JcFQxTWg0ODZVMWRqUWZxNjdSYS9rbHlzQi9TMVhxdlhHcVBPanlRb010NVFlaVJrdXVyNWZEWUtTNTNtT1Z5eXdMQTN2K0ptTWhaWkt4SGNEK3pEWm44alpMSXpKK2lzZHN2ZUZ0N1V3SHRZYnJjT0tYOFpsbFV2NjU0Y2JoNnU1eDY3alFDT2M2Q3lNckwrczZMaUI2enErV3lrNVJYT2FKRERZa1BKQjhJTkJGa00waVFTUHRVbkZwRDM5V1FwL2l6aWFQYzZEcnQ4NmFWOHMvdW8ranI4M1BMKzRXQlNuUExoZE5zWWQwY0hGTE9WcXRFeVFGNVlvc1FnMWh4RXIvaEZHR2NtZGkrcEZlL21rbng3T2Z2KzY3L1l2QmxHbFA2aTJTdk9lL0hXcTY2NWZDaXArSlFoOEx5aFJlRHlWbVpyd2JranBadTNoc0hlYzhuamFpemxGMUgrY3N1Y0NYcE8zSWpLRnZERUordW96LzRMbkl1MHJPYUhTeG5lczVsQ1pBVVBBclp2TmZuTEZhdDV1NWZ1TlpxdG1NVlpEbGFwTzJhazRWYjljY20yVnBJajFESFU1UVZwejRGV3FBWXJvT01pQVZtR2NvdExBOEZmaC9ER0Mzb0R1ZndFcEEvRCt5YUhydXNYUElhM0FacHZlL3M2WHVFN2RJalB3aWpMVzZLdmlLTkJXa2NBT0pkUVJBTWlTNlh0SElxMmpkZ3Nxck9FWG5ZR20ySGtvTktFSDlaWDZucXVoSVo2WFNoT1ZYUmNZVjBvQ1Q3ZGhsSEx5WnpZVGhKTFFNcDFwaU5VYno4RU5CS3gxZjIwbFkxdWN0MTI5MzdtcGt4c21XT01rZjBxRTJvNXpEY1lkTEhhbTVJVGxLNWZCMXloTTljRGdDZEs5bkVWYTgwenE4TnZTNUhqRk12QnBUaXYwa1JpRi9wQVhpekFTVTZHWGx0MjhNbnJoR2Zkai9qaklpU1BOU2RnbVkwKzRuNjc5UjMzeVhGanRTK2MvWngrQmlSZ1V1dzBCVnRNcVE5Vk54czdrVk53dVQwV0s1RnhlbzF3aVhzZ0hmaGJHR0V0QXlJcEY5bXlWbjVpcVo3T3hBZVlORWlzVHJrSkxJbXk4Tzh5czByYk9JRVNXNTJSV1c5TG5FNmQ0QkZQaFVYT2VpVmcrUVlPQTJBSmZTTFg4WTFmYW1TVVJ6SkUrMlZCV3Q2NjE4WFRHOWIwMEhkb2JqcWl2OGpkb2hCOG5VU2hvVXNWMkt2dzVHdlh4elViN0tpSXRJVkJFcmtmTm9WTTY2alZhVU0yTjVac0JJVXBGMERzT0UzRzhjSS94T0tjQmZwaDdnUXNZTmpKRFhsbUorZ0RPTmhjZzR4eVc0L2dobG8va0VkK1dkcjkzZStkZFNQUFl6akFOVUFrWVdWMnRONElyVnJ0NnZSUFlWRit4d3RYTGJtRDAzcDhSUmhsOXRWSERXTEEvbmpuS0k3V3p4eWhaK1F1VEcrSHVlbUJ1cmtlak9kK005YzJSR2V6bTdFc3pOM2ZLRHZjVTl5K1JrcGZ1dEdFWWJuWjNWSW1RektHaEpIdTBEbnMvbnhpZEhkNDI5NG4vYkJBNXV4Z3BFY3M2dE9uWWZDSGQzSVZFZ2dOb3JRdFRHZHVZcjRDRzl6d3Y3dmQ4enc3em1UZ2NCMjlkUDdObndPOCtCSzJsV1FRODVxeXZ1RllnUzFDaStiVGVNVEIxVVBtZFhkVjN5K1ZLR1piTUVTM0dIY01TaGd0Y3gvTm8rM0lyaE9YNUUxYVlKRitIY2ZxbENoUHNyZjExa3d6cjdlYk5XYS9iR2ZVR25XNmIydEIyMWZhMERCeW41UG9CZFRONkVQeStDWEV0R05oUWFhUGF2NGpuSTVTZnV2RDVXN1Bkb1Jha29jcFBpNUNjMzR4ZmVYSXo3cC9VUi9scUR5MFBXczN1Q1c0OVlnSzNwTW8zdVkwcmtadzhRR1ozVGlKZ0dqcHBoaFZmTFUvbG5aMDFrYnhiYjYxY3I4Y1JzcndtS3BQd3UrMGpZdUFYS3lkY2h3TGg3NUQxRy8xTmVhbDN6ZExvRnZGYlBuRHdyNHV0QVo0eEgyaWxXQmtBWVJCc25IdVA1aTJidnBrUUgvaTNQVXoydTFiMER4eGc3RC9vR2pyandFRnZ2T1BhOWZQZndEZCs3UT09::" /></EquinoxInstance>        </EquinoxMessage>    
DEBUG|13:13:20:168|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EC02Controller|-1|=== >> INCOMING DATA
-->applicationName  :  Sample
-->session  : 668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615
-->via  : mOCHKF.E11.0
-->from  : mOCHKF.E11.0
-->diag  : 
-->state  : ACTIVE
-->timeout  : 10

-->rawdata(s)  : 1
-->raw data index : 0
	-->raw event type : Unknown
	-->message : {    &quot;command&quot;:&quot;usageMonitoringUpdate&quot;,    &quot;sessionId&quot;:&quot;SessionA1234567891234679ACTIVE&quot;,    &quot;tid&quot;:&quot;TRANSACTION001&quot;,    &quot;requestNumber&quot;:&quot;1&quot;,    &quot;userType&quot;:&quot;privateId&quot;,    &quot;userValue&quot;:&quot;0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384&quot;,    &quot;status&quot;:&quot;207&quot;,   &quot;devMessage&quot;:&quot;PARTIAL_SUCCESS&quot;,    &quot;resources&quot;:[        {            &quot;resourceId&quot;:&quot;PD-1112&quot;,            &quot;resourceName&quot;:&quot;API_A&quot;,           &quot;rtid&quot;:&quot;R-TRAN-001&quot;,            &quot;resultCode&quot;:&quot;20000&quot;,            &quot;resultDesc&quot;:&quot;SUCCESS&quot;,            &quot;monitoringKey&quot;:&quot;1001&quot;,           &quot;counterId&quot;:&quot;4001000001&quot;,            &quot;quotaByKey&quot;:{                &quot;unitType&quot;:&quot;unit&quot;,                &quot;unit&quot;:&quot;100&quot;,                &quot;validityTime&quot;:&quot;3600&quot;            },            &quot;rateLimitByKey&quot;:{                &quot;transactionPerTime&quot;:&quot;100|60&quot;            }        },         {            &quot;resourceId&quot;:&quot;PD-1112&quot;,            &quot;resourceName&quot;:&quot;API_A&quot;,           &quot;rtid&quot;:&quot;R-TRAN-001&quot;,            &quot;resultCode&quot;:&quot;20000&quot;,            &quot;resultDesc&quot;:&quot;SUCCESS&quot;,            &quot;monitoringKey&quot;:&quot;1001&quot;,           &quot;counterId&quot;:&quot;4001000001&quot;,            &quot;quotaByKey&quot;:{                &quot;unitType&quot;:&quot;unit&quot;,                &quot;unit&quot;:&quot;100&quot;,                &quot;validityTime&quot;:&quot;3600&quot;            },            &quot;rateLimitByKey&quot;:{                &quot;transactionPerTime&quot;:&quot;100|60&quot;            }        }    ]}
	-->val : {    "command":"usageMonitoringUpdate",    "sessionId":"SessionA1234567891234679ACTIVE",    "tid":"TRANSACTION001",    "requestNumber":"1",    "userType":"privateId",    "userValue":"0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384",    "status":"207",   "devMessage":"PARTIAL_SUCCESS",    "resources":[        {            "resourceId":"PD-1112",            "resourceName":"API_A",           "rtid":"R-TRAN-001",            "resultCode":"20000",            "resultDesc":"SUCCESS",            "monitoringKey":"1001",           "counterId":"4001000001",            "quotaByKey":{                "unitType":"unit",                "unit":"100",                "validityTime":"3600"            },            "rateLimitByKey":{                "transactionPerTime":"100|60"            }        },         {            "resourceId":"PD-1112",            "resourceName":"API_A",           "rtid":"R-TRAN-001",            "resultCode":"20000",            "resultDesc":"SUCCESS",            "monitoringKey":"1001",           "counterId":"4001000001",            "quotaByKey":{                "unitType":"unit",                "unit":"100",                "validityTime":"3600"            },            "rateLimitByKey":{                "transactionPerTime":"100|60"            }        }    ]}
	-->ret : 0
	-->method : POST
	-->ctype : text/plain
	-->orig : mOCHKF.ES05.DAMOCLES.0
	-->name : HTTP
	-->invoke : umUpdate_
	-->to : mOCHKF.ES00
	-->type : response
	-->url : /rpcef/api/v1/metering-method
ADEBUG|13:13:20:169|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|PCEFMain|16|## actionProcess || extractInstance || Finish...
ADEBUG|13:13:20:170|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|78|--------------------- [ Start Before Process ] ---------------------
ADEBUG|13:13:20:170|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|InvokeManager|21|raw data :ec02.data.EquinoxRawDataFactory$EquinoxRawDataImpl@6dba847b
ADEBUG|13:13:20:170|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|InvokeManager|22|set event :SUCCESS
ADEBUG|13:13:20:170|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|InvokeManager|47|OK [0] phoebe.eqx.pcef.core.data.InvokeObject@1efdcd5
ADEBUG|13:13:20:170|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|197|[Request Type]: USAGE_MONITORING
ADEBUG|13:13:20:170|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|81|--------------------- [ Stop Before Process  ] ---------------------
ADEBUG|13:13:20:171|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|82|--------------------- [   Start Do Process   ] ---------------------
ADEBUG|13:13:20:171|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|ComplexState|23|disPatch W_USAGE_MONITORING W_USAGE_MONITORING_UPDATE
ADEBUG|13:13:20:171|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|ComplexState|27|Invoke wUsageMonitoringUpdate
ADEBUG|13:13:20:171|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|OCFUsageMonitoringService|256|Read Usage Monitoring Update Response ..
ADEBUG|13:13:20:171|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|InvokeManager|61|InvokeExternal found UsageMonitoringUpdate phoebe.eqx.pcef.core.data.InvokeObject@1efdcd5
ADEBUG|13:13:20:173|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|PCEFUtils|166|[MESSAGE_FLOW] : {"message":"Read Usage Monitoring Update Response","status":"Success","session":"SessionA123456781234679ACTIVE"}
ADEBUG|13:13:20:175|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|TransactionService|338|Resource Id:PD-1111no have quota
ADEBUG|13:13:20:175|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|TransactionService|349|remove transaction to commit by resourceId : PD-1111
ADEBUG|13:13:20:176|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|MongoDBService|86|[Query] remove,collection name:Transaction, query ={ "tid" : { "$in" : ["SACF-1"] } }
ADEBUG|13:13:20:186|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|W_USAGE_MONITORING|187|wUsageMonitoringUpdate error -java.util.ArrayList$Itr.checkForComodification(ArrayList.java:909)
ADEBUG|13:13:20:186|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|TransactionService|461|Error!!--> Delete Transaction Error..
ADEBUG|13:13:20:187|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|MongoDBService|86|[Query] delete,collection name:Transaction, query ={ "tid" : "SACF-756" }
ADEBUG|13:13:20:189|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|UsageMonitoringService|53|Build Usage Monitoring Response ..
ADEBUG|13:13:20:190|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|UsageMonitoringService|73|Build Usage Monitoring Response Fail ..
ADEBUG|13:13:20:191|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|PCEFService|90|<---- Calculate Timeout Part ---->
ADEBUG|13:13:20:191|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|PCEFService|99|Current Date    :2019-06-07T06:13:20.191Z
ADEBUG|13:13:20:192|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|PCEFService|100|Appointment Date:2019-06-07T03:56:42.000Z
ADEBUG|13:13:20:192|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|PCEFService|101|delay           :1
ADEBUG|13:13:20:192|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|PCEFService|102|timeout=8199 second
ADEBUG|13:13:20:193|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|PCEFUtils|166|[MESSAGE_FLOW] : {"message":"Build Usage Monitoring Response","status":"Success","session":"SessionA123456781234679ACTIVE"}
ADEBUG|13:13:20:193|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|ComplexState|70|Stop...by..flag
ADEBUG|13:13:20:193|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|233|Next State [L1]:BEGIN, [L2]:W_USAGE_MONITORING_UPDATE, [L3]:END
ADEBUG|13:13:20:193|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|84|--------------------- [    Stop Do Process   ] ---------------------
ADEBUG|13:13:20:193|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|85|--------------------- [ Start After Process  ] ---------------------
ADEBUG|13:13:20:193|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|357|[Get Min Timeout] timeout of request context =8199
ADEBUG|13:13:20:194|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|366|[Get Min Timeout] request context size = 1,timeout =8199
ADEBUG|13:13:20:194|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|272|EquinoxProperties timeout =8199
ADEBUG|13:13:20:194|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|284|clear context:USAGE_MONITORING
ADEBUG|13:13:20:194|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|AppInstance|54|remove context
ADEBUG|13:13:20:194|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|298|set State:ACTIVE, set Ret:NORMAL
ADEBUG|13:13:20:194|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|88|--------------------- [ Stop After Process   ] ---------------------
ADEBUG|13:13:20:194|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|PCEFMain|19|## actionProcess || callActionProcess || Finish...
ADEBUG|13:13:20:195|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|PCEFMain|22|## actionProcess || composeInstance || Finish...
DEBUG|13:13:20:195|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|AFProxy|-1|action process completed :: 27
DEBUG|13:13:20:196|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EC02Controller|-1|=== >> OUTGOING DATA
-->applicationName  :  Sample
-->session  : 668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615
-->via  : mOCHKF.E11.0
-->from  : Sample.ES00
-->diag  : 
-->state  : ACTIVE
-->timeout  : 8199

-->rawdata(s)  : 1
-->raw data index : 0
	-->message : {"command":"usageMonitoring","sessionId":"SessionA123456781234679ACTIVE","rtid":"SPW-A1234567891234679100","tid":"SACF-756","status":"500","devMessage":"Error"}
	-->method : POST
	-->ctype : text/plain
	-->name : HTTP
	-->invoke : 1033578817
	-->to : rPCEF.ES05.SACF
	-->type : response
	-->timeout : 8199
DEBUG|13:13:20:197|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EC02Handler|-1|
#====> Outgoing Message is:<?xml version="1.0" encoding="tis-620" ?><EquinoxMessage diag="" from="Sample.ES00" ret="0" session="668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615" via="mOCHKF.E11.0" timeout="8199" ><EquinoxRawData to="Sample.E04.0" name="EQSTAT" type="noreply" ><stats name="rPCEF receive Usage Monitoring Update response [SUCCESS]" type="increment"/><stats name="rPCEF sent Usage Monitoring response [ERROR]" type="increment"/></EquinoxRawData><EquinoxRawData method="POST" ctype="text/plain" val="{&quot;command&quot;:&quot;usageMonitoring&quot;,&quot;sessionId&quot;:&quot;SessionA123456781234679ACTIVE&quot;,&quot;rtid&quot;:&quot;SPW-A1234567891234679100&quot;,&quot;tid&quot;:&quot;SACF-756&quot;,&quot;status&quot;:&quot;500&quot;,&quot;devMessage&quot;:&quot;Error&quot;}" name="HTTP" invoke="1033578817" to="rPCEF.ES05.SACF" type="response" timeout="8199" ></EquinoxRawData><EquinoxInstance><value val="1::ACTIVE::false::ZUY3TmtERUx3akFRaGYrSzNOd2hyVFRGckFvaXFJUFlTWW9FZTRSZzAyaVRpQkw2MzAzcllBVVZSN25sY2U5eDkvRThOSGgyYU94VTF4YXYxZ0RiRlJFWXB4UnZia3N0dW9XSFNvczFWd2dNNW1nM2FMUnJEcmdvSVFKWlgvU3hrd3pFME5vSDczbGxocGJMQ3BqL21nOG9XOWwvU1VnOElaUmtjUktHamtoS3MzQXYrTUhyUmNBQzMwTGJSa080M0hDQksxMUxxeHRaaS94VWNvdXZrRTQ5dGovd0RhUHYwWkowUk1icFA2S2xYV3Mwb3g5YUs5bzdQYkNqckE9PQ==::" /></EquinoxInstance></EquinoxMessage>
DEBUG|13:13:20:197|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EC02Handler|-1|
-->TIME,total Processing Time(msec) : 32
-->TIME,application process (msec) :28
-->TIME,ec02 process(msec) : 4
