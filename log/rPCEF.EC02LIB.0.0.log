INFO|10:32:52:055|main|EC02Server|-1|EC02 :: Library Version --> 4.0.7
DEBUG|10:32:52:058|main|ConfigLoader|-1|Initial Custom AF Log
WARN|10:32:52:060|main|ConfigLoader|-1|testCustomLog : file name is rotated
INFO|10:32:52:072|main|EC02Server|-1|application level ready
ADEBUG|10:32:52:088|main|Config|57|----- Verify AF Configuration [true] -----
DEBUG|10:32:52:137|main|EC02Handler|-1|Received data from LL Content-Length: 1084
DEBUG|10:32:52:139|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EC02Handler|-1|
#====> Incoming Message :        <EquinoxMessage from="mOCHKF.E11.0" via="mOCHKF.E11.0"                        session="668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615"                        timeout="10" ret="0" diag="">            <EquinoxRawData orig="mOCHKF.ES05.DAMOCLES.0" name="HTTP" invoke="1572653657" type="request" method="POST"                            url="/rpcef/api/v1/metering-method" ctype="text/plain" val="{	&quot;sessionId&quot;:&quot;SessionA123456781234679ACTIVE&quot;,	&quot;tid&quot;:&quot;tid-00000000002&quot;,	&quot;rtid&quot;:&quot;r-tid-00000000001&quot;,	&quot;actualTime&quot;:&quot;20181105174020&quot;,	&quot;app&quot;:&quot;Cookie Run&quot;,	&quot;clientId&quot;:&quot;cGdb4azinlmwq8N5FDGXvQNwUKC352vv2de8fyCUIiI&quot;,	&quot;privateId&quot;:&quot;0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384&quot;,	&quot;resourceName&quot;:&quot;Send One Time Password&quot;}"                            to="mOCHKF.ES00" ret="0"/>            <EquinoxInstance>                <value val=""/>            </EquinoxInstance>        </EquinoxMessage>    
DEBUG|10:32:52:160|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EC02Controller|-1|=== >> INCOMING DATA
-->applicationName  :  Sample
-->session  : 668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615
-->via  : mOCHKF.E11.0
-->from  : mOCHKF.E11.0
-->diag  : 
-->state  : IDLE
-->timeout  : 10

-->rawdata(s)  : 1
-->raw data index : 0
	-->raw event type : Unknown
	-->message : {	&quot;sessionId&quot;:&quot;SessionA123456781234679ACTIVE&quot;,	&quot;tid&quot;:&quot;tid-00000000002&quot;,	&quot;rtid&quot;:&quot;r-tid-00000000001&quot;,	&quot;actualTime&quot;:&quot;20181105174020&quot;,	&quot;app&quot;:&quot;Cookie Run&quot;,	&quot;clientId&quot;:&quot;cGdb4azinlmwq8N5FDGXvQNwUKC352vv2de8fyCUIiI&quot;,	&quot;privateId&quot;:&quot;0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384&quot;,	&quot;resourceName&quot;:&quot;Send One Time Password&quot;}
	-->val : { "sessionId":"SessionA123456781234679ACTIVE", "tid":"tid-00000000002", "rtid":"r-tid-00000000001", "actualTime":"20181105174020", "app":"Cookie Run", "clientId":"cGdb4azinlmwq8N5FDGXvQNwUKC352vv2de8fyCUIiI", "privateId":"0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384", "resourceName":"Send One Time Password"}
	-->ret : 0
	-->method : POST
	-->ctype : text/plain
	-->orig : mOCHKF.ES05.DAMOCLES.0
	-->name : HTTP
	-->invoke : 1572653657
	-->to : mOCHKF.ES00
	-->type : request
	-->url : /rpcef/api/v1/metering-method
ADEBUG|10:32:52:202|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|PCEFMain|16|## actionProcess || extractInstance || Finish...
ADEBUG|10:32:52:203|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|70|--------------------- [ Start Before Process ] ---------------------
ADEBUG|10:32:52:204|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|73|--------------------- [ Stop Before Process  ] ---------------------
ADEBUG|10:32:52:205|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|74|--------------------- [   Start Do Process   ] ---------------------
ADEBUG|10:32:52:205|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|183|[Request Type]: USAGE_MONITORING
ADEBUG|10:32:52:486|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|ComplexState|36|Set state to null -->  BEGIN
ADEBUG|10:32:52:486|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|ComplexState|18|disPatch W_USAGE_MONITORING BEGIN
ADEBUG|10:32:52:490|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|ComplexState|22|Invoke begin
ADEBUG|10:32:54:419|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|PCEFUtils|98|[MESSAGE_FLOW] : {"message":"Read Usage Monitoring Request","status":"Success","session":"SessionA123456781234679ACTIVE"}
ADEBUG|10:32:54:424|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|InvokeManager|91|Operation[GetResourceId] has configured retryTimeout number as 1
ADEBUG|10:32:54:432|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|PCEFUtils|98|[MESSAGE_FLOW] : {"message":"Build Get Resource ID Request","status":"Success","session":"SessionA123456781234679ACTIVE"}
ADEBUG|10:32:54:742|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|76|--------------------- [    Stop Do Process   ] ---------------------
ADEBUG|10:32:54:742|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|77|--------------------- [ Start After Process  ] ---------------------
ADEBUG|10:32:54:749|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|80|--------------------- [ Stop After Process   ] ---------------------
ADEBUG|10:32:54:752|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|PCEFMain|19|## actionProcess || callActionProcess || Finish...
ADEBUG|10:32:54:776|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|PCEFMain|22|## actionProcess || composeInstance || Finish...
DEBUG|10:32:54:779|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|AFProxy|-1|action process completed :: 2619
DEBUG|10:32:54:782|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EC02Controller|-1|=== >> OUTGOING DATA
-->applicationName  :  Sample
-->session  : 668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615
-->via  : mOCHKF.E11.0
-->from  : Sample.ES00
-->diag  : 
-->state  : ACTIVE
-->timeout  : 4

-->rawdata(s)  : 1
-->raw data index : 0
	-->message : {}
	-->ctype : text/plain
	-->name : HTTP
	-->invoke : getResourceId_
	-->to : PCEF.ES99.0.0
	-->oid : 0.0.17.1218.8.7.0
	-->type : request
	-->timeout : 4
DEBUG|10:32:54:802|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EC02Handler|-1|
#====> Outgoing Message is:<?xml version="1.0" encoding="tis-620" ?><EquinoxMessage diag="" from="Sample.ES00" ret="0" session="668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615" via="mOCHKF.E11.0" timeout="4" ><EquinoxRawData to="Sample.E04.0" name="EQSTAT" type="noreply" ><stats name="PCEF_RECEIVE_TEST_DATA [SUCCESS]" type="increment"/></EquinoxRawData><EquinoxRawData ctype="text/plain" val="{}" name="HTTP" invoke="getResourceId_" to="PCEF.ES99.0.0" oid="0.0.17.1218.8.7.0" type="request" timeout="4" ></EquinoxRawData><EquinoxInstance><value val="1::ACTIVE::false::ZUY2VlUxMXZtekFVL1NzUjJtUExzQU1COHBZbGhLRTJKQ05ralRSVmtRdHU2b2JZQkV3K0d1Vy83eHBZMTFiVnBPV0JtSHZNOGJublhKKzFQS0dQQVM4bDRRblYrbWV0cEdYSkJBOVNyYS9ObS9VQTRhNXA5V3hIL2Zkc2R6Q01nNStlZHFWVkpWblRpZUJNaW9MeGRVUjNGUzNsLzdKSXBzNkM1N1h4K3NQQVhqUkFjZjBlUWdDUlJGWWtpOWtXSkd2WVFBNUNob1ZzMDhDR1F2TWN5a01oTm94Mm9vcERLY2tZNWJKdUt2SFRCNU84TUo1dER6c250TVlqZjduL0VSNFdOOE91aGZkN25GTG44VFJjQkN5QUQvT0M3WW1rOVpmRzBsMzZwNk04YmlZdnowL2hiQmxsOWl4eXgrWnVLcDV2NVFCWnBtTmJ0dU5ZWGNkVURkQlNWRVZDUTFMcm5GT2VkcWFjZHBUdXpveVU1VUVVcVhhNVhHbU03OFdHVGdnSFB3dmxYOGFVajcvT0xWSWZ2Nll5YWhtRGRBWDhJcWNGa1JBV2dQNWI4QzBXa1FQa29qamxLVmN5YUdKZ1BTV1M2TjZ1WWx3Y1ljY0lYc2RncWloT1g5NVhnMjJlQVozYXJ6aUtadTlBeWxwbTBuSktlcFJmODR3dzVUVnYydjBleHpONGExcjdUTDRVVUowTnZiSHV6VjFYTjNTVm5haUhBZFk2c25XRWthTTd1bDBqN1ZGRk8yUlFBQnRGQlRacHBnWWVnalJ2RHlISFRac0x2dUhpb1BUUXQ5WHdKcHplaFZCdE81bkFpSVBwUUhLKzFGRThrUkpjcmpMZ2ZTUlpTVldNc2pocGZkU3V3bXI3b0VJeTFQdXVtVUZrUWV3dWdnazBNYjdjS3pXTnpLQU90bzRQV1RidVdkMmVaYXZURy9pUDF2bkE5MWFUYVJqRTB5Z0lmZGdBRjdLUUg4Z3hOcm8xSXVrdEFzWnZuaCtvVnBvS2hzcmR5dmZpVmVUTnA0dG82SzJDa1VLcjdaWVVwMXV4THV1SnlzUzZIY2lQTTlORTlmbXMvV1VaVVVsWXB0TC8xLzVYYTlUMWRPRnlXc2pvWXN2c0dPQlFZd0RvclJjZ3F6SC8vdklidGZ4d3BBPT0=::" /></EquinoxInstance></EquinoxMessage>
DEBUG|10:32:54:802|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EC02Handler|-1|
-->TIME,total Processing Time(msec) : 2663
-->TIME,application process (msec) :2622
-->TIME,ec02 process(msec) : 41
DEBUG|10:32:54:804|main|EC02Handler|-1|Received data from LL Content-Length: 1747
DEBUG|10:32:54:804|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EC02Handler|-1|
#====> Incoming Message :        <EquinoxMessage from="mOCHKF.E11.0" via="mOCHKF.E11.0"                        session="668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615"                        timeout="10" ret="0" diag="">            <EquinoxRawData orig="mOCHKF.ES05.DAMOCLES.0" name="HTTP" invoke="getResourceId_" type="response" method="POST"                            url="" ctype="text/plain" val=""                            to="mOCHKF.ES00" ret="0"/>            <EquinoxInstance><value val="1::ACTIVE::false::ZUY2VlUxMXZtekFVL1NzUjJtUExzQU1COHBZbGhLRTJKQ05ralRSVmtRdHU2b2JZQkV3K0d1Vy83eHBZMTFiVnBPV0JtSHZNOGJublhKKzFQS0dQQVM4bDRRblYrbWV0cEdYSkJBOVNyYS9ObS9VQTRhNXA5V3hIL2Zkc2R6Q01nNStlZHFWVkpWblRpZUJNaW9MeGRVUjNGUzNsLzdKSXBzNkM1N1h4K3NQQVhqUkFjZjBlUWdDUlJGWWtpOWtXSkd2WVFBNUNob1ZzMDhDR1F2TWN5a01oTm94Mm9vcERLY2tZNWJKdUt2SFRCNU84TUo1dER6c250TVlqZjduL0VSNFdOOE91aGZkN25GTG44VFJjQkN5QUQvT0M3WW1rOVpmRzBsMzZwNk04YmlZdnowL2hiQmxsOWl4eXgrWnVLcDV2NVFCWnBtTmJ0dU5ZWGNkVURkQlNWRVZDUTFMcm5GT2VkcWFjZHBUdXpveVU1VUVVcVhhNVhHbU03OFdHVGdnSFB3dmxYOGFVajcvT0xWSWZ2Nll5YWhtRGRBWDhJcWNGa1JBV2dQNWI4QzBXa1FQa29qamxLVmN5YUdKZ1BTV1M2TjZ1WWx3Y1ljY0lYc2RncWloT1g5NVhnMjJlQVozYXJ6aUtadTlBeWxwbTBuSktlcFJmODR3dzVUVnYydjBleHpONGExcjdUTDRVVUowTnZiSHV6VjFYTjNTVm5haUhBZFk2c25XRWthTTd1bDBqN1ZGRk8yUlFBQnRGQlRacHBnWWVnalJ2RHlISFRac0x2dUhpb1BUUXQ5WHdKcHplaFZCdE81bkFpSVBwUUhLKzFGRThrUkpjcmpMZ2ZTUlpTVldNc2pocGZkU3V3bXI3b0VJeTFQdXVtVUZrUWV3dWdnazBNYjdjS3pXTnpLQU90bzRQV1RidVdkMmVaYXZURy9pUDF2bkE5MWFUYVJqRTB5Z0lmZGdBRjdLUUg4Z3hOcm8xSXVrdEFzWnZuaCtvVnBvS2hzcmR5dmZpVmVUTnA0dG82SzJDa1VLcjdaWVVwMXV4THV1SnlzUzZIY2lQTTlORTlmbXMvV1VaVVVsWXB0TC8xLzVYYTlUMWRPRnlXc2pvWXN2c0dPQlFZd0RvclJjZ3F6SC8vdklidGZ4d3BBPT0=::" /></EquinoxInstance>        </EquinoxMessage>    
DEBUG|10:32:54:810|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EC02Controller|-1|=== >> INCOMING DATA
-->applicationName  :  Sample
-->session  : 668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615
-->via  : mOCHKF.E11.0
-->from  : mOCHKF.E11.0
-->diag  : 
-->state  : ACTIVE
-->timeout  : 10

-->rawdata(s)  : 1
-->raw data index : 0
	-->raw event type : Unknown
	-->message : 
	-->val : 
	-->ret : 0
	-->method : POST
	-->ctype : text/plain
	-->orig : mOCHKF.ES05.DAMOCLES.0
	-->name : HTTP
	-->invoke : getResourceId_
	-->to : mOCHKF.ES00
	-->type : response
	-->url : 
ADEBUG|10:32:54:817|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|PCEFMain|16|## actionProcess || extractInstance || Finish...
ADEBUG|10:32:54:817|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|70|--------------------- [ Start Before Process ] ---------------------
ADEBUG|10:32:54:818|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|InvokeManager|44|OK [0] phoebe.eqx.pcef.core.data.InvokeObject@648c94da
ADEBUG|10:32:54:818|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|73|--------------------- [ Stop Before Process  ] ---------------------
ADEBUG|10:32:54:819|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|74|--------------------- [   Start Do Process   ] ---------------------
ADEBUG|10:32:54:819|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|EQX4Wrapper|183|[Request Type]: USAGE_MONITORING
ADEBUG|10:32:54:819|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|ComplexState|18|disPatch W_USAGE_MONITORING W_GET_RESOURCE_ID
ADEBUG|10:32:54:819|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|ComplexState|22|Invoke wGetResourceId
ADEBUG|10:32:55:100|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|PCEFUtils|98|[MESSAGE_FLOW] : {"message":"Build Get Resource ID Request","status":"Success","session":"SessionA123456781234679ACTIVE"}
ADEBUG|10:32:55:967|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|MongoDBService|525|[Query] insert Transaction, condition ={"sessionId":"SessionA123456781234679ACTIVE","rtid":"r-tid-00000000001","tid":"tid-00000000002","actualTime":"20181105174020","userType":"privateId","userValue":"0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384","resourceId":"resourceId1234","resourceName":"Send One Time Password","monitoringKey":"","status":"Waiting","createDate":"May 15, 2019 10:32:55 AM","updateDate":"May 15, 2019 10:32:55 AM","clientId":"cGdb4azinlmwq8N5FDGXvQNwUKC352vv2de8fyCUIiI","firstTime":1,"isActive":1}
ADEBUG|10:32:56:056|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|PCEFUtils|98|[MESSAGE_FLOW] : {"message":"Insert Transaction","status":"Success","session":"SessionA123456781234679ACTIVE"}
ADEBUG|10:33:07:411|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|MongoDBService|525|[Query] find Profile, condition ={ "userValue" : "0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384" }
ADEBUG|10:33:07:437|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|PCEFUtils|98|[MESSAGE_FLOW] : {"message":"Find Profile by privateId [Found]","status":"Success","session":"SessionA123456781234679ACTIVE"}
ADEBUG|10:33:08:851|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|MongoDBService|525|[Query] find Quota, condition ={ "userValue" : "0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384", "resources" : { "$elemMatch" : { "resourceId" : "resourceId1234" } } }
ADEBUG|10:33:19:404|668691208055774|4051|3G Internet 19Baht 1Mbps 1Day UL|20181225:083613|20181226:083615|MongoDBService|525|[Query] find Quota, condition ={ "userValue" : "0X9XGyxtxkMzjhNPXRl7PR9F4qOojLtA1548757885384", "resources" : { "$elemMatch" : { "resourceId" : "resourceId1234" } } }
